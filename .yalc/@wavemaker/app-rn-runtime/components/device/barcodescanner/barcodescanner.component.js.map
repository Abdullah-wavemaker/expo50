{"version":3,"names":["React","View","BaseComponent","BaseComponentState","ScanConsumer","WmBarcodescannerProps","DEFAULT_CLASS","WmButton","WmBarcodescannerState","WmBarcodescanner","constructor","props","_defineProperty","onScanTap","params","barcodeFormat","state","barcodeformat","scanner","scanBarcode","then","res","updateState","datavalue","text","invokeEventCallback","proxy","renderWidget","createElement","scanService","style","styles","root","_background","id","getTestId","iconclass","button","onTap","bind","caption","iconsize","accessibilitylabel","hint","accessibilityrole"],"sources":["barcodescanner.component.tsx"],"sourcesContent":["import React from 'react';\nimport { View } from 'react-native';\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport { ScanInput, ScanOutput } from '@wavemaker/app-rn-runtime/variables/device/scan/scan.operation';\nimport { ScanConsumer, ScanService } from '@wavemaker/app-rn-runtime/core/device/scan-service';\n\nimport WmBarcodescannerProps from './barcodescanner.props';\nimport { DEFAULT_CLASS, WmBarcodescannerStyles } from './barcodescanner.styles';\nimport WmButton from '@wavemaker/app-rn-runtime/components/basic/button/button.component';\n\nexport class WmBarcodescannerState extends BaseComponentState<WmBarcodescannerProps> {}\n\nexport default class WmBarcodescanner extends BaseComponent<WmBarcodescannerProps, WmBarcodescannerState, WmBarcodescannerStyles> {\n  private scanner: ScanService = null as any;\n  constructor(props: WmBarcodescannerProps) {\n    super(props, DEFAULT_CLASS, new WmBarcodescannerProps());\n  }\n\n  onScanTap() {\n    const params: ScanInput = {\n      barcodeFormat: this.state.props.barcodeformat\n    };\n    this.scanner.scanBarcode(params).then((res: ScanOutput) => {\n      this.updateState({\n        props: {\n          datavalue: res.text\n        }\n      } as WmBarcodescannerState, () => {\n        this.invokeEventCallback('onSuccess', [null, this.proxy]);\n      });\n    })\n  }\n\n  renderWidget(props: WmBarcodescannerProps) {\n    return (\n      <ScanConsumer>\n        {(scanService: ScanService) => {\n          this.scanner = scanService;\n          return <View style={this.styles.root}>\n            {this._background}\n            <WmButton id={this.getTestId('button')} iconclass={props.iconclass} styles={this.styles.button} onTap={this.onScanTap.bind(this)} caption={props.caption} iconsize={props.iconsize} accessibilitylabel={props.accessibilitylabel} hint={props.hint} accessibilityrole={props.accessibilityrole}></WmButton>\n          </View>\n        }}\n      </ScanConsumer>\n    );\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,cAAc;AACnC,SAASC,aAAa,EAAEC,kBAAkB,QAAQ,+CAA+C;AAEjG,SAASC,YAAY,QAAqB,oDAAoD;AAE9F,OAAOC,qBAAqB,MAAM,wBAAwB;AAC1D,SAASC,aAAa,QAAgC,yBAAyB;AAC/E,OAAOC,QAAQ,MAAM,oEAAoE;AAEzF,OAAO,MAAMC,qBAAqB,SAASL,kBAAkB,CAAwB;AAErF,eAAe,MAAMM,gBAAgB,SAASP,aAAa,CAAuE;EAEhIQ,WAAWA,CAACC,KAA4B,EAAE;IACxC,KAAK,CAACA,KAAK,EAAEL,aAAa,EAAE,IAAID,qBAAqB,CAAC,CAAC,CAAC;IAACO,eAAA,kBAF5B,IAAI;EAGnC;EAEAC,SAASA,CAAA,EAAG;IACV,MAAMC,MAAiB,GAAG;MACxBC,aAAa,EAAE,IAAI,CAACC,KAAK,CAACL,KAAK,CAACM;IAClC,CAAC;IACD,IAAI,CAACC,OAAO,CAACC,WAAW,CAACL,MAAM,CAAC,CAACM,IAAI,CAAEC,GAAe,IAAK;MACzD,IAAI,CAACC,WAAW,CAAC;QACfX,KAAK,EAAE;UACLY,SAAS,EAAEF,GAAG,CAACG;QACjB;MACF,CAAC,EAA2B,MAAM;QAChC,IAAI,CAACC,mBAAmB,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,CAACC,KAAK,CAAC,CAAC;MAC3D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAC,YAAYA,CAAChB,KAA4B,EAAE;IACzC,oBACEX,KAAA,CAAA4B,aAAA,CAACxB,YAAY,QACTyB,WAAwB,IAAK;MAC7B,IAAI,CAACX,OAAO,GAAGW,WAAW;MAC1B,oBAAO7B,KAAA,CAAA4B,aAAA,CAAC3B,IAAI;QAAC6B,KAAK,EAAE,IAAI,CAACC,MAAM,CAACC;MAAK,GAClC,IAAI,CAACC,WAAW,eACjBjC,KAAA,CAAA4B,aAAA,CAACrB,QAAQ;QAAC2B,EAAE,EAAE,IAAI,CAACC,SAAS,CAAC,QAAQ,CAAE;QAACC,SAAS,EAAEzB,KAAK,CAACyB,SAAU;QAACL,MAAM,EAAE,IAAI,CAACA,MAAM,CAACM,MAAO;QAACC,KAAK,EAAE,IAAI,CAACzB,SAAS,CAAC0B,IAAI,CAAC,IAAI,CAAE;QAACC,OAAO,EAAE7B,KAAK,CAAC6B,OAAQ;QAACC,QAAQ,EAAE9B,KAAK,CAAC8B,QAAS;QAACC,kBAAkB,EAAE/B,KAAK,CAAC+B,kBAAmB;QAACC,IAAI,EAAEhC,KAAK,CAACgC,IAAK;QAACC,iBAAiB,EAAEjC,KAAK,CAACiC;MAAkB,CAAW,CACtS,CAAC;IACT,CACY,CAAC;EAEnB;AACF"}