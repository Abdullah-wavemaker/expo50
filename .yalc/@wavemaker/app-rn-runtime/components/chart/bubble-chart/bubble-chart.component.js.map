{"version":3,"names":["React","View","Platform","AccessibilityWidgetType","getAccessibilityProps","WmBubbleChartProps","DEFAULT_CLASS","BaseChartComponent","BaseChartComponentState","VictoryChart","VictoryLegend","VictoryScatter","Svg","WmBubbleChartState","WmBubbleChart","constructor","props","onSelect","event","data","value","index","y","label","state","xaxisDatakeyArr","datum","x","selectedItem","dataset","selectedChartItem","series","_dataObj","invokeEventCallback","nativeEvent","proxy","renderWidget","_this$state$data","length","createElement","_extends","LINECHART","style","styles","root","theme","height","width","screenWidth","padding","top","offsettop","bottom","offsetbottom","left","offsetleft","right","offsetright","containerComponent","getTooltip","name","title","subheading","orientation","gutter","getLegendView","getXaxis","getYAxis","map","d","i","colorScale","colors","fill","opacity","_ref","key","size","events","target","eventHandlers","OS","onClick","bind","onPress"],"sources":["bubble-chart.component.tsx"],"sourcesContent":["import React from 'react';\nimport {Text, View, Platform} from 'react-native';\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility'; \n\nimport WmBubbleChartProps from './bubble-chart.props';\nimport { DEFAULT_CLASS, WmBubbleChartStyles } from './bubble-chart.styles';\nimport {\n  BaseChartComponent,\n  BaseChartComponentState\n} from \"@wavemaker/app-rn-runtime/components/chart/basechart.component\";\nimport {VictoryAxis, VictoryChart, VictoryLegend, VictoryLine, VictoryScatter} from \"victory-native\";\nimport { ScatterSymbolType } from \"victory-core\";\nimport {Svg} from \"react-native-svg\";\nimport {get} from \"lodash-es\";\n\nexport class WmBubbleChartState extends BaseChartComponentState<WmBubbleChartProps> {}\n\nexport default class WmBubbleChart extends BaseChartComponent<WmBubbleChartProps, WmBubbleChartState, WmBubbleChartStyles> {\n\n  constructor(props: WmBubbleChartProps) {\n    super(props, DEFAULT_CLASS, new WmBubbleChartProps(), new WmBubbleChartState());\n  }\n\n  onSelect(event: any, data: any){\n    let value = data.data[data.index].y;\n    let label = this.state.xaxisDatakeyArr[data.datum.x];\n    let selectedItem = this.props.dataset[data.index];\n    let selectedChartItem = [{series: 0, x: data.index, y: value,_dataObj: selectedItem},data.index];\n    this.invokeEventCallback('onSelect', [event.nativeEvent, this.proxy, selectedItem, selectedChartItem ]);\n  }\n\n  renderWidget(props: WmBubbleChartProps) {\n    this.invokeEventCallback('onBeforerender', [this.proxy, null]);\n    if (!this.state.data?.length) {\n      return null;\n    }\n    return (<View\n      {...getAccessibilityProps(AccessibilityWidgetType.LINECHART, props)}\n      style={this.styles.root}\n    >\n      <VictoryChart\n        theme={this.state.theme}\n        height={this.styles.root.height as number}\n        width={this.styles.root.width as number || this.screenWidth}\n        padding={{ top: props.offsettop, bottom: props.offsetbottom, left: props.offsetleft, right: props.offsetright }}\n        containerComponent={\n          this.getTooltip(props)\n        }\n      >\n        <VictoryLegend\n          name={'legend'}\n          containerComponent={<Svg />}\n          title={[props.title, props.subheading]}\n          orientation=\"horizontal\"\n          gutter={20}\n          data={[]}\n          theme={this.state.theme}\n        />\n        {this.getLegendView()}\n        {this.getXaxis()}\n        {this.getYAxis()}\n        {this.state.data.map((d: any, i: number) => {\n        return <VictoryScatter\n          colorScale={this.state.colors}\n          style={{\n            data: { fill: this.state.colors[i], opacity: ({ datum }) => datum.opacity }\n          }}\n          key={props.name + '_bubble_' + i}\n          name={props.name + '_bubble_' + i}\n          data={d}\n          size={5}\n          events={[{\n            target: 'data',\n            eventHandlers: Platform.OS == \"web\" ? {\n              onClick: this.onSelect.bind(this)\n            }:{\n              onPress: this.onSelect.bind(this)\n            }\n          }]}\n        />\n      })}\n      </VictoryChart></View>);\n  }\n}\n"],"mappings":"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"}