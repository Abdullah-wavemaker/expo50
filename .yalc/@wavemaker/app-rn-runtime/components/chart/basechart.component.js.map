{"version":3,"names":["React","Dimensions","moment","forEach","get","isArray","isEmpty","isObject","maxBy","minBy","set","trim","orderBy","VictoryAxis","VictoryLegend","VictoryLabel","VictoryVoronoiContainer","VictoryTooltip","BaseComponent","BaseComponentState","WmIcon","ThemeFactory","DEFAULT_CLASS","constructSampleData","getChartType","BaseChartComponentState","constructor","arguments","_defineProperty","undefined","screenWidth","width","shapes","SI_SYMBOL","BaseChartComponent","props","defaultClass","length","defaultProps","defaultState","theme","applyTheme","componentDidMount","abbreviateNumber","number","tier","Math","log10","abs","suffix","scale","pow","scaled","toFixed","getLegendView","colorScale","state","showlegend","top","parseInt","styles","root","height","orientation","createElement","name","gutter","data","legendData","style","border","stroke","borderPadding","left","y","getYScaleMinValue","value","_min","floor","getXaxis","minIndex","maxIndex","xaxisDatakeyArr","getTickValueLabel","xtickexpr","yaxislabeldistance","crossAxis","label","xaxislabel","xaxisdatakey","xunits","axisLabel","mergeStyle","yAxisLabel","grid","hidegridxaxis","xGrid","axis","showxaxis","xAxis","ticks","xTicks","tickLabels","xTickLabels","fixLabelOverlap","autoadjustlabels","axisLabelComponent","tickLabelComponent","offsetyaxis","angle","labelangle","tickCount","invertAxis","isRTL","tickFormat","d","i","getYAxis","showyaxis","ytickexpr","xaxislabeldistance","yaxislabel","yaxisdatakey","yunits","hidegridyaxis","yGrid","yAxis","yTicks","yTickLabels","x","offsetxaxis","dependentAxis","getTooltip","tooltipContainer","xaxis","voronoiDimension","labels","_ref","datum","dataset","voronoiBlacklist","map","item","labelComponent","fill","tooltipXText","color","tooltipYText","tooltiporientation","pointerLength","tooltippointerlength","pointerWidth","tooltippointerwidth","flyoutHeight","tooltipheight","flyoutWidth","tooltipwidth","flyoutStyle","backgroundColor","borderColor","strokeWidth","borderWidth","flyoutPadding","paddingTop","bottom","paddingBottom","paddingLeft","right","paddingRight","cornerRadius","borderRadius","centerOffset","tooltipcenteroffsetx","tooltipcenteroffsety","constrainToVisibleArea","isAxisDomainSupported","type","isAxisDomainValid","areMinMaxValuesValid","values","isFinite","min","max","setDomainValues","xDomainValues","yDomainValues","getXMinMaxValues","getYMinMaxValues","updateState","chartMinX","chartMaxX","yMin","chartMinY","chartMaxY","xValues","dataObject","yValues","minValues","maxValues","push","setHeightWidthOnChart","cb","chartHeight","chartWidth","themeName","colorsToUse","customcolors","split","themeToUse","getColorsObj","getTheme","colors","prepareLegendData","ldata","prepareEvents","_","idx","childName","target","eventKey","String","eventHandlers","onClick","mutation","onMouseOver","onMouseOut","getxAxisVal","dataObj","xKey","index","isValid","isNaN","prepareDataItems","yaxis","datasets","_yaxis","shape","yPts","o","xindex","xVal","yVal","parseFloat","bubblesize","invokeEventCallback","proxy","setTimeout","endAngle","updateData","renderLoadingIcon","loadingIcon","iconclass","loadingicon","caption","loadingdatamsg","labeltype","setTotal","ydomain","xdomain","loading","total","onPropertyChange","$new","$old","units","xLabel","yLabel","getDataType","widgetContext","Error"],"sources":["basechart.component.tsx"],"sourcesContent":["import React from \"react\";\nimport { Dimensions } from 'react-native';\nimport moment from \"moment\";\nimport {forEach, get, isArray, isEmpty, isObject, maxBy, minBy, set, trim, orderBy} from \"lodash-es\";\nimport { ScatterSymbolType } from \"victory-core\";\nimport {VictoryAxis, VictoryLegend, VictoryLabel, VictoryVoronoiContainer, VictoryTooltip} from \"victory-native\";\n\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport WmIcon from \"@wavemaker/app-rn-runtime/components/basic/icon/icon.component\";\nimport ThemeFactory  from \"@wavemaker/app-rn-runtime/components/chart/theme/chart.theme\";\n\nimport BaseChartComponentProps from \"./basechart.props\";\nimport { DEFAULT_CLASS, BaseChartComponentStyles} from \"./basechart.styles\";\nimport _ from \"lodash\";\nimport { constructSampleData, getChartType } from \"./staticdata\";\n\nexport class BaseChartComponentState <T extends BaseChartComponentProps> extends BaseComponentState<T> {\n  data: any = [];\n  content: any = null;\n  yAxis: Array<string> = [];\n  xaxisDatakeyArr: Array<any> = [];\n  legendData: any = [];\n  theme: any;\n  colors: any;\n  xLabel: string = '';\n  yLabel: string = '';\n  total: number = 0;\n  endAngle: number = 0;\n  loading: boolean = true;\n  chartHeight: number = 0;\n  chartWidth: number = 0;\n  chartMinY: number | undefined = undefined;\n  chartMinX: number | undefined = undefined;\n  chartMaxY: number | undefined = undefined;\n  chartMaxX: number | undefined = undefined;\n}\n\nconst screenWidth = Dimensions.get(\"window\").width;\n\nconst shapes: {[key: string]: any} = {\n  'circle': 'circle',\n  'cross': 'cross',\n  'diamond': 'diamond',\n  'plus': 'plus',\n  'minus': 'minus',\n  'square': 'square',\n  'star': 'star',\n  'triangle-down': 'triangleDown',\n  'triangle-up': 'triangleUp',\n};\n\nconst SI_SYMBOL = [\"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\"];\n\nexport abstract class BaseChartComponent<T extends BaseChartComponentProps, S extends BaseChartComponentState<T>, L extends BaseChartComponentStyles> extends BaseComponent<T, S, L> {\n  protected screenWidth: number = screenWidth;\n  constructor(props: T, public defaultClass: string = DEFAULT_CLASS, defaultProps?: T, defaultState?: S) {\n    super(props, defaultClass, defaultProps, defaultState);\n    if (!props.theme) {\n      this.applyTheme(props);\n    }\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n  }\n\n  abbreviateNumber(number: any) {\n    if (typeof number !== 'number') {\n      return number;\n    }\n    const tier = Math.log10(Math.abs(number)) / 3 | 0;\n\n    if (tier == 0) {\n      return number;\n    }\n\n    // get suffix and determine scale\n    const suffix = SI_SYMBOL[tier];\n    const scale = Math.pow(10, tier * 3);\n\n    // scale the number\n    var scaled = number / scale;\n\n    // format number and add suffix\n    return scaled.toFixed(1) + suffix;\n  }\n\n  getLegendView(colorScale?: any) {\n    if (this.state.props.showlegend === 'hide') {\n      return null;\n    }\n    const props = this.state.props;\n    let top = props.showlegend === 'bottom' ? parseInt(this.styles.root.height as string) : 0;\n    if (top) {\n      top = top - (50); // remove legendHeight\n    }\n    const orientation = (props.showlegend === 'right' || props.showlegend === 'left') ? 'vertical' : 'horizontal';\n    return <VictoryLegend\n      colorScale={colorScale}\n      name={'legendData'}\n      orientation={orientation}\n      gutter={20}\n      data={this.state.legendData}\n      style={{ border: { stroke: 'none' } }}\n      borderPadding={{top: 30, left: 50}}\n      y={top}\n    />\n  }\n\n  getYScaleMinValue(value: number) {\n    const _min = Math.floor(value);\n    return Math.abs(value) - _min > 0 ? value - .1 : _min - 1;\n  };\n\n  // x axis with vertical lines having grid stroke colors\n  getXaxis() {\n    const minIndex = 0;\n    const maxIndex = this.state.xaxisDatakeyArr.length - 1;\n    const props = this.state.props;\n    const getTickValueLabel = props.xtickexpr as any;\n    let height = this.styles.root.height || 250;\n    let yaxislabeldistance = props.yaxislabeldistance ? props.yaxislabeldistance : height as number - 20;\n    if (height && typeof height === 'string') {\n      height = parseInt(height);\n    }\n    return <VictoryAxis crossAxis={false} label={(props.xaxislabel || props.xaxisdatakey || \"name\") + (props.xunits ? `(${props.xunits})` : '')}\n                        style={{\n                          axisLabel: this.theme.mergeStyle(this.styles.axisLabel, this.styles.yAxisLabel),\n                          grid: props.hidegridxaxis ?\n                              { stroke: null } :  this.theme.mergeStyle(this.styles.grid, this.styles.xGrid),\n                          axis: props.showxaxis === false ?\n                              { stroke: 'none' } :  this.theme.mergeStyle(this.styles.axis, this.styles.xAxis),\n                          ticks: this.theme.mergeStyle(this.styles.ticks, this.styles.xTicks),\n                          tickLabels: this.theme.mergeStyle(this.styles.tickLabels, this.styles.xTickLabels)\n                        }}\n                        fixLabelOverlap= {props.autoadjustlabels?true:false}\n                        axisLabelComponent={<VictoryLabel y={yaxislabeldistance}/>}\n                        tickLabelComponent={<VictoryLabel y={props.offsetyaxis ? props.offsetyaxis : height as number - 30} angle={props.labelangle || 0}/>} theme={this.state.theme}\n                        tickCount={this.state.xaxisDatakeyArr.length} \n                        invertAxis={this.isRTL}\n                        tickFormat= {(d, i, ticks) => {\n                          if (getTickValueLabel) {\n                              return getTickValueLabel(this.state.xaxisDatakeyArr[d], i, (ticks || []).length);\n                          } else if (this.state.xaxisDatakeyArr) {\n                            return this.state.xaxisDatakeyArr[d];\n                          }\n                          return '';\n                        }}\n                        />;                    \n}            \n\n\n  /* y axis with horizontal lines having grid stroke colors*/\n  getYAxis() {\n    const props = this.state.props;\n    if (props.showyaxis === false) {\n      return null;\n    }\n    const getTickValueLabel = props.ytickexpr as any;\n    let xaxislabeldistance = props.xaxislabeldistance ? props.xaxislabeldistance : 20\n    return <VictoryAxis crossAxis={false} label={(props.yaxislabel || props.yaxisdatakey) + (props.yunits ? `(${props.yunits})` : '')}\n                        style={{\n                          axisLabel: this.theme.mergeStyle(this.styles.axisLabel, this.styles.yAxisLabel),\n                          grid: props.hidegridyaxis ? { stroke: null } : this.theme.mergeStyle(this.styles.grid, this.styles.yGrid),\n                          axis: props.showxaxis === false ?\n                          { stroke: 'none' } :  this.theme.mergeStyle(this.styles.axis, this.styles.yAxis),\n                          ticks: this.theme.mergeStyle(this.styles.ticks, this.styles.yTicks),\n                          tickLabels: this.theme.mergeStyle(this.styles.tickLabels, this.styles.yTickLabels)\n                        }}\n                        fixLabelOverlap= {props.autoadjustlabels?true:false}\n                        axisLabelComponent={<VictoryLabel x={xaxislabeldistance}/>}\n                        tickLabelComponent={<VictoryLabel x={props.offsetxaxis ? props.offsetxaxis : 50}/>} \n                        theme={this.state.theme}\n                        tickFormat= {(d, i, ticks) => {\n                          if (getTickValueLabel) {\n                            return getTickValueLabel(d, i, (ticks || []).length);\n                          }\n                          return this.abbreviateNumber(d);\n                        }}\n                        orientation={this.isRTL?\"right\":\"left\"}\n                        dependentAxis />;\n  }\n  \n  getTooltip(props: BaseChartComponentProps) {\n    const tooltipContainer = this.styles.tooltipContainer;\n    const xaxis = props.xaxisdatakey;\n    return (\n      <VictoryVoronoiContainer\n      voronoiDimension=\"x\"\n      labels={({ datum }) => `${props.dataset[datum.x][xaxis]} \\n Value ${datum.y} `}\n      voronoiBlacklist={this.state.data.map((item: any, i: number) => props.name + '_' + i)}\n      labelComponent={\n        <VictoryTooltip\n          style={[{fill: this.styles.tooltipXText.color,...this.styles.tooltipXText},{fill: this.styles.tooltipYText.color,...this.styles.tooltipYText}]}\n          orientation={props.tooltiporientation}\n          pointerLength={props.tooltippointerlength}\n          pointerWidth={props.tooltippointerwidth}\n          flyoutHeight={props.tooltipheight}\n          flyoutWidth={props.tooltipwidth}\n          flyoutStyle={{fill: tooltipContainer.backgroundColor, stroke: tooltipContainer.borderColor,  strokeWidth: tooltipContainer.borderWidth,...this.styles.tooltipContainer}}\n          flyoutPadding={{top: tooltipContainer.paddingTop, bottom: tooltipContainer.paddingBottom, left: tooltipContainer.paddingLeft, right: tooltipContainer.paddingRight}}\n          cornerRadius={tooltipContainer.borderRadius}\n          centerOffset={{ x: props.tooltipcenteroffsetx, y: props.tooltipcenteroffsety}}\n          constrainToVisibleArea\n        />\n      }\n    />\n    );\n  }\n \n\n  // X/Y Domain properties are supported only for Column and Area charts\n  isAxisDomainSupported(type: string) {\n    return type === 'Column'|| type === 'Area';\n  }\n\n  // Check whether X/Y Domain was set to Min and is supported for the present chart\n  isAxisDomainValid(axis: string) {\n    const props = this.state.props;\n    if (get(props, axis + 'domain') === 'Min' && (this.isAxisDomainSupported(props.type))) {\n      return true;\n    }\n    return false;\n  };\n\n// Check whether min and max values are finite or not\n  areMinMaxValuesValid(values: any) {\n    if (isFinite(values.min) && isFinite(values.max)) {\n      return true;\n    }\n    return false;\n  };\n\n  setDomainValues() {\n    let xDomainValues, yDomainValues;\n    if (this.state.data.length > 0) {\n      if (this.isAxisDomainValid('x') && typeof this.state.data[0].x === 'number') {\n        xDomainValues = this.getXMinMaxValues(this.state.data[0]);\n      }\n      if (this.isAxisDomainValid('y')) {\n        yDomainValues = this.getYMinMaxValues(this.state.data);\n      }\n      if (xDomainValues) {\n        this.updateState({\n          chartMinX: yDomainValues.min.x,\n          chartMaxX: yDomainValues.max.x\n        } as S)\n      }\n      let yMin;\n      if (yDomainValues) {\n        if (this.areMinMaxValuesValid({max: yDomainValues.max.y, min: yDomainValues.min.y})) {\n          yMin = this.getYScaleMinValue(yDomainValues.min.y);\n        }\n        this.updateState({\n          chartMinY: yMin ? yMin : yDomainValues.min.y,\n          chartMaxY: yDomainValues.max.y\n        } as S);\n      }\n    }\n  }\n\n  // Getting the min and max values among all the x values\n  getXMinMaxValues(datum: Array<{x: number, y: any}>) {\n    if (!datum) {\n      return;\n    }\n    const xValues: any = {};\n    /*\n     compute the min x valuex\n     eg: When data has objects\n        input: [{x:1, y:2}, {x:2, y:3}, {x:3, y:4}]\n        min x: 1\n     eg: When data has arrays\n        input: [[10, 20], [20, 30], [30, 40]];\n        min x: 10\n    */\n    xValues.min = minBy(datum, (dataObject: {x: any, y: any}) => dataObject.x) || {x: undefined};\n    /*\n     compute the max x value\n     eg: When data has objects\n        input: [{x:1, y:2}, {x:2, y:3}, {x:3, y:4}]\n        max x: 3\n     eg: When data has arrays\n        input: [[10, 20], [20, 30], [30, 40]];\n        max x: 30\n     */\n    xValues.max = maxBy(datum, (dataObject: {x: any, y: any}) => dataObject.x)|| {x: undefined};\n    return xValues;\n  }\n\n  // Getting the min and max values among all the y values\n  getYMinMaxValues(datum: Array<Array<{x: any, y: number}>>) {\n    const yValues: any = {},\n      minValues: any = [],\n      maxValues: any = [];\n    if (!datum) {\n      return;\n    }\n\n    /*\n     Getting the min and max y values among all the series of data\n     compute the min y value\n     eg: When data has objects\n        input: [[{x:1, y:2}, {x:2, y:3}, {x:3, y:4}], [{x:2, y:3}, {x:3, y:4}, {x:4, y:5}]]\n        min y values : '2'(among first set) & '3'(among second set)\n        max y values : '4'(among first set) & '5'(among second set)\n\n     eg: When data has arrays\n        input: [[[10, 20], [20, 30], [30, 40]], [[20, 30], [30, 40], [40, 50]]]\n        min y values : '20'(among first set) & '30'(among second set)\n        max y values : '40'(among first set) & '50'(among second set)\n     */\n\n    forEach(datum, data => {\n      if (data && !isEmpty(data)) {\n        minValues.push(minBy(data,  (dataObject: {x: any, y: any}) => { return dataObject.y }));\n        maxValues.push(maxBy(data,  (dataObject: {x: any, y: any}) => { return dataObject.y }));\n      }\n    });\n    // Gets the least and highest values among all the min and max values of respective series of data\n    yValues.min = minBy(minValues, (dataObject: {x: any, y: any}) => dataObject.y) || {y: undefined};\n    yValues.max = maxBy(maxValues, (dataObject: {x: any, y: any}) => dataObject.y) || {y: undefined};\n    return yValues;\n  }\n\n  setHeightWidthOnChart(cb?: () => void) {\n    let height = this.styles.root.height || 250;\n    let width = this.styles.root.width || screenWidth;\n    if (height && typeof height === 'string') {\n      height = parseInt(height);\n    }\n    if (width && typeof width === 'string') {\n      width = parseInt(width);\n    }\n    this.updateState({\n      chartHeight: height,\n      chartWidth: width\n    } as S, cb);\n  }\n\n  applyTheme(props: BaseChartComponentProps) {\n    let themeName = props.theme ? props.theme : (props.type === 'Pie' ? 'Azure' : 'Terrestrial');\n    let colorsToUse = [];\n    if (typeof props.customcolors === 'string' && !isEmpty(props.customcolors)) {\n      colorsToUse = props.customcolors.split(',').map(trim);\n    }\n    let themeToUse;\n    if (typeof themeName === 'string') {\n      if (!colorsToUse.length) {\n        colorsToUse = props.customcolors as string[];\n      }\n      if(props.customcolors===undefined) {\n        colorsToUse = ThemeFactory.getColorsObj(themeName);\n      }\n      themeToUse = ThemeFactory.getTheme(themeName, props.styles, colorsToUse);\n    } else if (typeof themeName === 'object') {\n      // if theme is passed as an object then use that custom theme.\n      themeToUse = props.theme;\n    }\n    this.updateState({\n      colors: colorsToUse,\n      theme: themeToUse\n    } as S);\n  }\n\n  prepareLegendData() {\n    const props = this.state.props;\n    if (this.state.yAxis) {\n      let ldata: any;\n      if (props.type === 'Stack') {\n        const data = orderBy(this.state.data[0], 'y', 'asc');\n        ldata = data.map((d: any) => {\n          return {\n            name: this.state.xaxisDatakeyArr[d.x]\n          }\n        });\n      } else {\n        ldata = this.state.yAxis.map((d: string) => {\n          return {\n            name: d\n          }\n        });\n      }\n\n      this.updateState({\n        legendData: ldata\n      } as S);\n    }\n  }\n\n  prepareEvents(name: string) {\n    return this.state.legendData.map((_: any, idx: number) => {\n      return {\n        childName: ['legend'],\n        target: 'data',\n        eventKey: String(idx),\n        eventHandlers: {\n          onClick: () => {\n            return [\n              {\n                childName: [name + '_' + idx],\n                target: 'data',\n                eventKey: 'all',\n                mutation: (props: any) => {\n                  return null;\n                }\n              }\n            ];\n          },\n          onMouseOver: () => {\n          },\n          onMouseOut: () => {\n          }\n        }\n      };\n    });\n  }\n\n  // If date string is bound to xaxis then we are pushing the x values as indexes.\n  getxAxisVal(dataObj: {[key: string] : any}, xKey: string, index: number, xaxisDatakeyArr: Array<any>) {\n    const value: any = get(dataObj, xKey);\n    if (moment(value).isValid() || isNaN(value) || typeof value === 'string' || typeof value === 'number') {\n      xaxisDatakeyArr.push(value);\n      return index;\n    }\n    return value;\n  }\n\n  prepareDataItems(dataset: any) {\n    const props = this.state.props;\n    let xaxis = props.xaxisdatakey;\n    let yaxis = props.yaxisdatakey;\n    let xaxisDatakeyArr: Array<any> = [];\n    let datasets: any = [];\n    if (dataset.length === 0) {\n      dataset = constructSampleData(getChartType(this.props), yaxis?.split(','), this.props.shape);\n      xaxis = \"x\";\n      yaxis = \"y\";\n    }\n    if (xaxis && yaxis) {\n      let yPts = yaxis.split(',');\n      yPts.forEach((y: any) => {\n        if (xaxis !== y) {\n          datasets.push(dataset.map((o: {[key: string] : any}, xindex: number) => {\n            const xVal = this.getxAxisVal(o, xaxis, xindex, xaxisDatakeyArr);\n            let yVal: string | number = get(o, y);\n            if (typeof yVal === 'string') {\n              yVal = parseFloat(yVal) || yVal;\n            }\n            let dataObj = {\n              x: xVal,\n              y: yVal,\n            };\n            if (props.bubblesize) {\n              set(dataObj, 'size', get(o, props.bubblesize, 5));\n            }\n            if (props.shape) {\n              set(dataObj, 'symbol', shapes[props.shape]);\n            }\n            return dataObj;\n          }));\n        }\n      });\n      // chartTransform\n      this.invokeEventCallback('onTransform', [undefined, this.proxy]);\n      if (props.type == 'Pie' || props.type === 'Donut') {\n        // for animation effect\n        setTimeout(() => {\n          this.updateState({\n            endAngle: 360,\n          } as S);\n        }, 500);\n      }\n      this.updateData(datasets, yPts, xaxisDatakeyArr);\n    }\n  }\n\n\n  protected renderLoadingIcon() {\n    const props = this.state.props;\n    return (<WmIcon styles={this.styles.loadingIcon}\n    iconclass={props.loadingicon}\n    caption={props.loadingdatamsg}></WmIcon>);\n  }\n\n  updateData(datasets: any, yPts: any, xaxisDatakeyArr: Array<any>) {\n    const props = this.state.props;\n    this.updateState({\n      data: datasets as any,\n      yAxis: yPts,\n      xaxisDatakeyArr: xaxisDatakeyArr\n    } as S, () => {\n      this.prepareLegendData();\n      if (!props.labeltype || props.labeltype === 'percent') {\n        this.setTotal(this.state.data[0]);\n      }\n      if (this.isAxisDomainSupported(props.type) && (props.ydomain || props.xdomain)) {\n        this.setDomainValues();\n      }\n      this.updateState({\n        loading: false\n      } as S);\n    });\n  }\n\n  setTotal(data: Array<{x: any, y: number}>) {\n    let total = 0;\n    data.forEach((d: {x: any, y: any}) => {\n      total += d.y as number;\n    });\n    this.updateState({\n      total: total\n    } as S);\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    super.onPropertyChange(name, $new, $old);\n    const props = this.state.props;\n    let units = '';\n    switch(name) {\n      case 'customcolors':\n        if (isEmpty($new)) {\n          return;\n        }\n        if (typeof $new === 'string') {\n          $new = $new.split(',');\n        }\n        this.updateState({\n          colors: $new\n        } as S);\n        break;\n      case 'theme':\n        this.applyTheme(props);\n        break;\n      case 'dataset':\n        if (!isArray($new)) {\n          if (isObject($new) && !isEmpty($new)) {\n            $new = [$new];\n          } else {\n            $new = [];\n          }\n        }\n        $new && this.prepareDataItems($new);\n        break;\n      case 'xaxislabel':\n        if (props.xunits) {\n          units = ' (' + props.xunits + ')';\n        }\n        this.updateState({\n          xLabel: $new + units\n        } as S);\n        break;\n      case 'yaxislabel':\n        if (props.yunits) {\n          units = ' (' + props.yunits + ')';\n        }\n        this.updateState({\n          yLabel: $new + units\n        } as S);\n        break;\n    }\n  }\n}\nfunction getDataType(widgetContext: { yaxisdatakey: string | null | undefined; shape: any; }): any {\n  throw new Error(\"Function not implemented.\");\n}\n\n"],"mappings":"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"}