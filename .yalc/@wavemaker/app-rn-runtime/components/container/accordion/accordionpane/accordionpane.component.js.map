{"version":3,"names":["React","BaseComponent","BaseComponentState","WmAccordionpaneProps","DEFAULT_CLASS","View","isWebPreviewMode","CollapsiblePane","WmAccordionpaneState","constructor","arguments","_defineProperty","WmAccordionpane","props","isCollapsed","state","collapsed","show","updateState","invokeEventCallback","proxy","hide","expand","parent","name","collapse","componentDidMount","accordion","addAccordionPane","onPartialLoad","renderContent","renderPartial","isPartialLoaded","setTimeout","bind","children","renderWidget","createElement","style","maxHeight","overflow","_background","close"],"sources":["accordionpane.component.tsx"],"sourcesContent":["import React, { useCallback, useMemo, useState } from 'react';\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\n\nimport WmAccordionpaneProps from './accordionpane.props';\nimport { DEFAULT_CLASS, WmAccordionpaneStyles } from './accordionpane.styles';\nimport WmAccordion from '../accordion.component';\nimport { View } from 'react-native';\nimport { isWebPreviewMode } from '@wavemaker/app-rn-runtime/core/utils';\nimport { CollapsiblePane } from '../../panel/collapsible-pane.component';\n\nexport class WmAccordionpaneState extends BaseComponentState<WmAccordionpaneProps> {\n  isPartialLoaded = false;\n  collapsed = true;\n}\n\nexport default class WmAccordionpane extends BaseComponent<WmAccordionpaneProps, WmAccordionpaneState, WmAccordionpaneStyles> {\n\n  constructor(props: WmAccordionpaneProps) {\n    super(props, DEFAULT_CLASS, new WmAccordionpaneProps(), new WmAccordionpaneState());\n  }\n\n  isCollapsed() {\n    return this.state.collapsed;\n  }\n  \n  show() {\n    this.updateState({\n      collapsed: false\n    } as WmAccordionpaneState);\n    this.invokeEventCallback('onExpand', [null, this.proxy]);\n  }\n\n  hide() {\n    this.updateState({\n      collapsed: true\n    } as WmAccordionpaneState);\n    this.invokeEventCallback('onCollapse', [null, this.proxy]);\n  }\n\n  expand() {\n    (this.parent as WmAccordion).expand(this.props.name || '');\n  }\n\n  collapse() {\n    (this.parent as WmAccordion).expand(this.props.name || '');\n  }\n\n  componentDidMount() {\n    const accordion = (this.parent) as WmAccordion;\n    accordion.addAccordionPane(this);\n    super.componentDidMount();\n  }\n\n  onPartialLoad() {\n    this.invokeEventCallback('onLoad', [this]);\n  }\n\n  renderContent(props: WmAccordionpaneProps) {\n    if (props.renderPartial) {\n      if (!this.state.isPartialLoaded) {\n        setTimeout(() => {\n          this.updateState({\n            isPartialLoaded: true\n          } as WmAccordionpaneState);\n        });\n      }\n      return props.renderPartial(props, this.onPartialLoad.bind(this));\n    }\n    return props.children;\n  }\n  renderWidget(props: WmAccordionpaneProps) {\n    return isWebPreviewMode() ? \n    (<View style={this.state.collapsed ? {maxHeight: 0, overflow: 'hidden'} : {}}>\n      {this._background}\n      {this.renderContent(props)}\n    </View>) :\n    (<CollapsiblePane close={this.state.collapsed}>\n      {this._background}\n      {this.renderContent(props)}\n    </CollapsiblePane>);\n  }\n}\n"],"mappings":"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"}