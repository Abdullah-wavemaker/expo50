{"version":3,"names":["React","View","BaseComponent","BaseComponentState","WmWizardstepProps","DEFAULT_CLASS","WmWizardstepState","constructor","arguments","_defineProperty","WmWizardstep","props","componentDidMount","wizard","parent","addWizardStep","onPropertyChange","name","$new","$old","refresh","setTimeout","forceUpdate","setActive","updateState","active","setInActive","isVisible","state","invokeNextCB","index","invokeEventCallback","proxy","invokePrevCB","invokeSkipCB","renderWidget","showContent","createElement","style","styles","root","_background","children"],"sources":["wizardstep.component.tsx"],"sourcesContent":["import React from 'react';\nimport { View } from 'react-native';\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\n\nimport WmWizardstepProps from './wizardstep.props';\nimport { DEFAULT_CLASS, WmWizardstepStyles } from './wizardstep.styles';\nimport WmWizard from '../wizard.component';\nimport { isBoolean } from 'lodash-es';\n\nexport class WmWizardstepState extends BaseComponentState<WmWizardstepProps> {\n  active = false;\n  showContent: boolean = false;\n}\n\nexport default class WmWizardstep extends BaseComponent<WmWizardstepProps, WmWizardstepState, WmWizardstepStyles> {\n\n  constructor(props: WmWizardstepProps) {\n    super(props, DEFAULT_CLASS, new WmWizardstepProps(), new WmWizardstepState());\n  }\n\n  componentDidMount() {\n    const wizard = (this.parent) as WmWizard;\n    wizard.addWizardStep(this);\n    super.componentDidMount();\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    super.onPropertyChange(name, $new, $old);\n    switch(name) {\n      case 'title':\n        const wizard = (this.parent) as WmWizard;\n        wizard?.refresh();\n        break;\n      case 'disableprev':\n      case 'disablenext':\n      case 'disabledone':\n      case 'enableskip':\n        setTimeout(() => {\n          this.parent.forceUpdate();\n        }, 10);\n        break;\n    }\n  }\n\n  setActive() {\n    this.updateState({\n      active: true\n    } as WmWizardstepState);\n  }\n\n  setInActive() {\n    this.updateState({\n      active: false\n    } as WmWizardstepState);\n  }\n\n  isVisible() {\n    return super.isVisible() && this.state.active;\n  }\n\n  invokeNextCB(index: number) : boolean {\n    return this.invokeEventCallback('onNext', [this.proxy, this, index]);\n  }\n\n  invokePrevCB(index: number) : boolean {\n    return this.invokeEventCallback('onPrev', [this.proxy, this, index]);\n  }\n\n  invokeSkipCB(index: number) {\n    this.invokeEventCallback('onSkip', [this.proxy, this, index]);\n  }\n  renderWidget(props: WmWizardstepProps) {\n    if(!this.state.showContent && this.isVisible()){\n      this.updateState({showContent: true} as WmWizardstepState, ()=>{\n        this.invokeEventCallback('onLoad', [this]);\n      });\n    }\n    return this.state.showContent && (<View style={this.styles.root}>{this._background}{props.children}</View>);\n  }\n}\n"],"mappings":"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"}