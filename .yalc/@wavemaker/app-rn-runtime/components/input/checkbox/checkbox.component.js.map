{"version":3,"names":["React","Text","TouchableOpacity","BaseComponent","BaseComponentState","WmIcon","unStringify","validateField","WmCheckboxProps","DEFAULT_CLASS","AccessibilityWidgetType","getAccessibilityProps","WmCheckboxState","constructor","arguments","_defineProperty","WmCheckbox","props","setChecked","dataValue","checkedvalue","value","updateState","isChecked","onPropertyChange","name","$new","$old","state","datavalue","updateDatavalue","validate","validationObj","isValid","errorType","onPress","readonly","invokeEventCallback","proxy","disabled","oldValue","uncheckedvalue","onFieldChange","renderWidget","createElement","_extends","getTestPropsForAction","style","styles","root","bind","CHECKBOX","checked","accessibilityRole","accessibilityLabel","caption","_background","iconclass","checkicon","uncheckicon","getTestPropsForLabel","text"],"sources":["checkbox.component.tsx"],"sourcesContent":["import React from 'react';\nimport { Text, TouchableOpacity } from 'react-native';\n\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport WmIcon from '@wavemaker/app-rn-runtime/components/basic/icon/icon.component';\nimport {unStringify, validateField} from '@wavemaker/app-rn-runtime/core/utils';\n\nimport WmCheckboxProps from './checkbox.props';\nimport { DEFAULT_CLASS, WmCheckboxStyles } from './checkbox.styles';\nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility';\n\nexport class WmCheckboxState extends BaseComponentState<WmCheckboxProps> {\n  isChecked: boolean = false;\n  isValid: boolean = true;\n  errorType = '';\n}\n\nexport default class WmCheckbox extends BaseComponent<WmCheckboxProps, WmCheckboxState, WmCheckboxStyles> {\n\n  constructor(props: WmCheckboxProps) {\n    super(props, DEFAULT_CLASS, new WmCheckboxProps(), new WmCheckboxState());\n  }\n\n  setChecked(dataValue: any, checkedvalue: any) {\n    const value = unStringify(dataValue) === unStringify(checkedvalue, true);\n    this.updateState({ isChecked: value } as WmCheckboxState);\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    switch (name) {\n      case 'checkedvalue':\n        this.setChecked(this.state.props.datavalue, $new);\n        break;\n      case 'datavalue':\n        this.setChecked($new, this.state.props.checkedvalue);\n        break;\n    }\n  }\n\n  updateDatavalue(value: any) {\n    this.updateState({ props: { datavalue: value }} as WmCheckboxState);\n  }\n  validate(value: any) {\n    const validationObj = validateField(this.state.props, value);\n    this.updateState({\n      isValid: validationObj.isValid,\n      errorType: validationObj.errorType\n    } as WmCheckboxState);\n  }\n\n  onPress() {\n    if (!this.state.props.readonly) {\n      this.invokeEventCallback('onFocus', [null, this.proxy]);\n    }\n    this.invokeEventCallback('onTap', [null, this.proxy]);\n    if (this.state.props.disabled) {\n      return;\n    }\n    const oldValue = this.state.props.datavalue;\n    const value = !this.state.isChecked;\n    this.validate(value);\n    this.updateState({ isChecked: value } as WmCheckboxState);\n    const dataValue = value === true ? this.state.props.checkedvalue : this.state.props.uncheckedvalue;\n    this.updateState({ props: { datavalue: dataValue } } as WmCheckboxState,\n      () => {\n        if (!this.props.onFieldChange) {\n          this.invokeEventCallback('onChange', [null, this.proxy, dataValue, oldValue]);\n        } else {\n          this.props.onFieldChange && this.props.onFieldChange('datavalue', dataValue, oldValue);\n        }\n        this.invokeEventCallback('onBlur', [ null, this.proxy ]);\n      });\n  }\n\n  renderWidget(props: WmCheckboxProps) {\n    return (\n      <TouchableOpacity {...this.getTestPropsForAction()} style={this.styles.root} onPress={this.onPress.bind(this)} {...getAccessibilityProps(AccessibilityWidgetType.CHECKBOX, {...props, checked: this.state.isChecked})} accessibilityRole='checkbox' accessibilityLabel={`Checkbox for ${props.caption}`}>\n          {this._background}\n          <WmIcon iconclass=\"wi wi-check\" styles={this.state.isChecked ? this.styles.checkicon : this.styles.uncheckicon} disabled={props.readonly || props.disabled}/>\n          <Text {...this.getTestPropsForLabel()} style={this.styles.text}>{props.caption}</Text>\n      </TouchableOpacity>\n    );\n  }\n}\n"],"mappings":"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"}