{"version":3,"names":["React","Platform","WmTextProps","DEFAULT_CLASS","WMTextInput","BaseInputComponent","BaseInputState","isNull","AccessibilityWidgetType","getAccessibilityProps","WmTextState","WmText","constructor","props","getStyleClassName","classes","state","floatinglabel","push","join","renderWidget","_this$state$textValue","opts","valueExpr","OS","textValue","toString","createElement","_extends","getTestPropsForInput","TEXT","ref","widgetRef","selectionStart","selectionEnd","cursor","floatingLabel","floatingLabelStyle","styles","activeFloatingLabelStyle","activeFloatingLabel","placeholderTextColor","placeholderText","color","style","root","text","isValid","invalid","keyboardType","autoComplete","autocomplete","autoFocus","autofocus","editable","disabled","readonly","secureTextEntry","type","maskchar","displayformat","maxLength","maxchars","placeholder","onBlur","bind","onFocus","onKeyPress","onChangeText","onChange","invokeChange","allowContentSelection","userSelect"],"sources":["text.component.tsx"],"sourcesContent":["import React from 'react';\nimport { Platform } from 'react-native';\n\nimport WmTextProps from './text.props';\nimport { DEFAULT_CLASS, WmTextStyles } from './text.styles';\nimport { WMTextInput } from '@wavemaker/app-rn-runtime/core/components/textinput.component';\nimport { BaseInputComponent, BaseInputState } from \"@wavemaker/app-rn-runtime/components/input/baseinput/baseinput.component\";\nimport { isNull } from 'lodash';\nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility'; \n\nexport class WmTextState extends BaseInputState<WmTextProps> {\n}\n\nexport default class WmText extends BaseInputComponent<WmTextProps, WmTextState, WmTextStyles> {\n\n  constructor(props: WmTextProps) {\n    super(props, DEFAULT_CLASS, new WmTextProps(), new WmTextState());\n  }\n\n  public getStyleClassName(): string | undefined {\n    const classes = [];\n    if (this.state.props.floatinglabel) {\n      classes.push('app-text-with-label'); \n    }\n    classes.push(super.getStyleClassName());\n    return classes.join(' ');\n  }\n\n  renderWidget(props: WmTextProps) {\n    let opts: any = {};\n    const valueExpr = Platform.OS === 'web' ? 'value' : 'defaultValue';\n    opts[valueExpr] = this.state.textValue?.toString() || '';\n    return (\n        <WMTextInput\n          {...this.getTestPropsForInput()}\n          {...getAccessibilityProps(\n            AccessibilityWidgetType.TEXT,\n            props\n          )}\n          ref={(ref: any) => {this.widgetRef = ref;\n            // @ts-ignore\n          if (ref && !isNull(ref.selectionStart) && !isNull(ref.selectionEnd)) {\n            // @ts-ignore\n            ref.selectionStart = ref.selectionEnd = this.cursor;\n          }}}\n          {...opts}\n          floatingLabel={props.floatinglabel}\n          floatingLabelStyle={this.styles.floatingLabel}\n          activeFloatingLabelStyle={this.styles.activeFloatingLabel}\n          placeholderTextColor={this.styles.placeholderText.color as any}\n          style={[this.styles.root, this.styles.text, this.state.isValid ? {} : this.styles.invalid]}\n          keyboardType={this.state.keyboardType}\n          autoComplete={props.autocomplete ? 'username' : 'off'}\n          autoFocus={props.autofocus}\n          editable={props.disabled || props.readonly ? false : true}\n          secureTextEntry={props.type === 'password' && !props.maskchar ? true : false}\n          displayformat={props.displayformat}\n          maskchar={props.maskchar}\n          maxLength={props.maxchars}\n          placeholder={props.placeholder}\n          onBlur={this.onBlur.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onKeyPress={this.onKeyPress.bind(this)}\n          onChangeText={this.onChangeText.bind(this)}\n          onChange={this.invokeChange.bind(this)}\n          allowContentSelection={this.styles.text.userSelect === 'text'}\n        />\n    );\n  }\n}\n"],"mappings":"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"}