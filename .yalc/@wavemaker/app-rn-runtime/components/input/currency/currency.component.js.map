{"version":3,"names":["React","View","Text","Platform","WmCurrencyProps","CURRENCY_INFO","WMTextInput","DEFAULT_CLASS","BaseNumberComponent","BaseNumberState","isNull","AccessibilityWidgetType","getAccessibilityProps","WmCurrencyState","constructor","arguments","_defineProperty","WmCurrency","props","onPropertyChange","name","$new","$old","updateState","currencySymbol","symbol","getStyleClassName","classes","state","floatinglabel","push","join","renderWidget","_this$state$textValue","opts","valueExpr","OS","textValue","toString","createElement","style","styles","root","labelWrapper","label","flex","_extends","getTestPropsForInput","CURRENCY","ref","widgetRef","selectionStart","selectionEnd","cursor","keyboardType","placeholderTextColor","placeholderText","color","input","text","isValid","invalid","floatingLabel","floatingLabelStyle","activeFloatingLabelStyle","activeFloatingLabel","editable","disabled","readonly","placeholder","onBlur","bind","onFocus","onKeyPress","validateInputEntry","onChangeText","onChange","invokeChange","allowContentSelection","userSelect"],"sources":["currency.component.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, Platform } from 'react-native';\n\nimport WmCurrencyProps from './currency.props';\nimport { CURRENCY_INFO } from '@wavemaker/app-rn-runtime/core/currency-constants';\nimport { WMTextInput } from '@wavemaker/app-rn-runtime/core/components/textinput.component';\nimport { DEFAULT_CLASS, WmCurrencyStyles } from './currency.styles';\nimport {\n  BaseNumberComponent,\n  BaseNumberState\n} from '@wavemaker/app-rn-runtime/components/input/basenumber/basenumber.component';\nimport { isNull } from \"lodash\";\nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility'; \nexport class WmCurrencyState extends BaseNumberState<WmCurrencyProps> {\n  currencySymbol: any;\n}\n\nexport default class WmCurrency extends BaseNumberComponent<WmCurrencyProps, WmCurrencyState, WmCurrencyStyles> {\n\n  constructor(props: WmCurrencyProps) {\n    super(props, DEFAULT_CLASS, new WmCurrencyProps(), new WmCurrencyState());\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    super.onPropertyChange(name, $new, $old);\n    switch (name) {\n      case 'currency':\n        if ($new) {\n          this.updateState({\n            currencySymbol: CURRENCY_INFO[$new].symbol,\n          } as WmCurrencyState);\n        }\n        break;\n\n    }\n  }\n\n  public getStyleClassName(): string | undefined {\n    const classes = [];\n    if (this.state.props.floatinglabel) {\n      classes.push('app-currency-with-label'); \n    }\n    classes.push(super.getStyleClassName());\n    return classes.join(' ');\n  }\n\n  renderWidget(props: WmCurrencyProps) {\n    let opts: any = {};\n    const valueExpr = Platform.OS === 'web' ? 'value' : 'defaultValue';\n    opts[valueExpr] = this.state.textValue?.toString() || '';\n    return (<View style={this.styles.root}>\n      <View style={this.styles.labelWrapper}>\n        <Text style={this.styles.label}>{this.state.currencySymbol}</Text>\n      </View>\n      <View style={{flex: 1}}>\n      <WMTextInput\n        {...this.getTestPropsForInput()}\n        {...getAccessibilityProps(AccessibilityWidgetType.CURRENCY, props)}\n        ref={(ref: any) => {\n          this.widgetRef = ref;\n          // @ts-ignore\n          if (ref && !isNull(ref.selectionStart) && !isNull(ref.selectionEnd)) {\n            // @ts-ignore\n            ref.selectionStart = ref.selectionEnd = this.cursor;\n          }\n        }}\n        keyboardType=\"numeric\"\n        placeholderTextColor={this.styles.placeholderText.color as any}\n        style={[this.styles.input, this.styles.text, this.state.isValid ? {} : this.styles.invalid]}\n        {...opts}\n        floatingLabel={props.floatinglabel}\n        floatingLabelStyle={this.styles.floatingLabel}\n        activeFloatingLabelStyle={this.styles.activeFloatingLabel}\n        editable={props.disabled || props.readonly ? false : true}\n        placeholder={props.placeholder}\n        onBlur={this.onBlur.bind(this)}\n        onFocus={this.onFocus.bind(this)}\n        onKeyPress={this.validateInputEntry.bind(this)}\n        onChangeText={(text) => {\n          this.onChangeText.bind(this)(text, 'currency');\n        }}\n        onChange={this.invokeChange.bind(this)}\n        allowContentSelection={this.styles.text.userSelect === 'text'}\n      />\n      </View>\n    </View>);\n  }\n}\n"],"mappings":"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"}