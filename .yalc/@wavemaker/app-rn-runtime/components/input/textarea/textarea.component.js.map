{"version":3,"names":["React","Platform","WmTextareaProps","DEFAULT_CLASS","BaseInputComponent","BaseInputState","WMTextInput","isNull","AccessibilityWidgetType","getAccessibilityProps","WmTextareaState","WmTextarea","constructor","props","getStyleClassName","classes","state","floatinglabel","push","join","renderWidget","_this$state$textValue","opts","valueExpr","OS","textValue","toString","createElement","_extends","getTestPropsForInput","TEXTAREA","ref","widgetRef","selectionStart","selectionEnd","cursor","placeholderTextColor","styles","placeholderText","color","style","root","text","isValid","invalid","multiline","numberOfLines","keyboardType","floatingLabel","floatingLabelStyle","activeFloatingLabelStyle","activeFloatingLabel","autoComplete","autocomplete","autoFocus","autofocus","editable","disabled","readonly","maxLength","maxchars","placeholder","onBlur","bind","onFocus","onKeyPress","onChangeText","onChange","invokeChange","allowContentSelection","userSelect"],"sources":["textarea.component.tsx"],"sourcesContent":["import React from 'react';\nimport { Platform, TextInput, View } from 'react-native';\nimport WmTextareaProps from './textarea.props';\nimport { DEFAULT_CLASS, WmTextareaStyles } from './textarea.styles';\nimport {\n  BaseInputComponent,\n  BaseInputState\n} from '@wavemaker/app-rn-runtime/components/input/baseinput/baseinput.component';\nimport { WMTextInput } from '@wavemaker/app-rn-runtime/core/components/textinput.component';\nimport { isNull } from 'lodash';\nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility'; \n\nexport class WmTextareaState extends BaseInputState<WmTextareaProps> {}\n\nexport default class WmTextarea extends BaseInputComponent<WmTextareaProps, WmTextareaState, WmTextareaStyles> {\n\n  constructor(props: WmTextareaProps) {\n    super(props, DEFAULT_CLASS, new WmTextareaProps(), new WmTextareaState());\n  }\n\n  public getStyleClassName(): string | undefined {\n    const classes = [];\n    if (this.state.props.floatinglabel) {\n      classes.push('app-textarea-with-label'); \n    }\n    classes.push(super.getStyleClassName());\n    return classes.join(' ');\n  }\n\n  renderWidget(props: WmTextareaProps) {\n    let opts: any = {};\n    const valueExpr = Platform.OS === 'web' ? 'value' : 'defaultValue';\n    opts[valueExpr] = this.state.textValue?.toString() || '';\n    return ( <WMTextInput\n      {...this.getTestPropsForInput()}\n      {...getAccessibilityProps(\n        AccessibilityWidgetType.TEXTAREA,\n        props\n      )}\n      ref={(ref: any) => {this.widgetRef = ref;\n        // @ts-ignore\n        if (ref && !isNull(ref.selectionStart) && !isNull(ref.selectionEnd)) {\n          // @ts-ignore\n          ref.selectionStart = ref.selectionEnd = this.cursor;\n        }}}\n      placeholderTextColor={this.styles.placeholderText.color as any}\n      style={[this.styles.root, this.styles.text, this.state.isValid ? {} : this.styles.invalid]}\n      multiline={true}\n      numberOfLines={4}\n      keyboardType={this.state.keyboardType}\n      {...opts}\n      floatingLabel={props.floatinglabel}\n      floatingLabelStyle={this.styles.floatingLabel}\n      activeFloatingLabelStyle={this.styles.activeFloatingLabel}\n      autoComplete={props.autocomplete ? 'username' : 'off'}\n      autoFocus={props.autofocus}\n      editable={props.disabled || props.readonly ? false : true}\n      maxLength={props.maxchars}\n      placeholder={props.placeholder || 'Place your text'}\n      onBlur={this.onBlur.bind(this)}\n      onFocus={this.onFocus.bind(this)}\n      onKeyPress={this.onKeyPress.bind(this)}\n      onChangeText={this.onChangeText.bind(this)}\n      onChange={this.invokeChange.bind(this)}\n      allowContentSelection={this.styles.text.userSelect === 'text'}\n    />);\n  }\n}\n"],"mappings":"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"}