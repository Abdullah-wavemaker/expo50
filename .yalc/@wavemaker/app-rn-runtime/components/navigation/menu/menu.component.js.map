{"version":3,"names":["React","View","WmAnchor","BaseNavComponent","BaseNavState","WmPopover","WmMenuProps","DEFAULT_CLASS","WmMenuState","animationMap","slide","fade","scale","WmMenu","constructor","props","_defineProperty","onComponentInit","c","popOverRef","renderMenuItem","item","index","getDisplayLabel","getDisplayExpression","label","createElement","id","getTestId","iconclass","icon","caption","hyperlink","link","styles","menuItem","onTap","invokeEventCallback","hide","renderWidget","menuItems","state","dataItems","contentanimation","animateitems","listener","popoverheight","menu","height","popoverwidth","width","iconposition","type","style","map","key"],"sources":["menu.component.tsx"],"sourcesContent":["import React from 'react';\nimport { View } from 'react-native';\n\nimport WmAnchor from '@wavemaker/app-rn-runtime/components/basic/anchor/anchor.component';\nimport { LifecycleListener } from '@wavemaker/app-rn-runtime/core/base.component';\n\nimport { BaseNavComponent, BaseNavState, NavigationDataItem } from '../basenav/basenav.component';\nimport WmPopover from '../popover/popover.component';\nimport WmMenuProps from './menu.props';\nimport { DEFAULT_CLASS, WmMenuStyles } from './menu.styles';\n\nexport class WmMenuState <T extends WmMenuProps> extends BaseNavState<T> {}\n\nconst animationMap: any = {\n  slide: 'slideInDown',\n  fade: 'fadeIn',\n  scale: 'zoomIn'\n};\n\nexport default class WmMenu extends BaseNavComponent<WmMenuProps, WmMenuState<WmMenuProps>, WmMenuStyles> {\n\n  private popOverRef: WmPopover = null as any;\n\n  private listener: LifecycleListener = {\n    onComponentInit: (c) => {\n      if (c instanceof WmPopover) {\n        this.popOverRef = c;\n      }\n    }\n  };\n\n  constructor(props: WmMenuProps) {\n    super(props, DEFAULT_CLASS, new WmMenuProps(), new WmMenuState());\n  }\n\n  renderMenuItem(item: NavigationDataItem, index: number) {\n    const getDisplayLabel = this.props.getDisplayExpression || ((label: string) => label);\n    return (\n      <WmAnchor\n        id={this.getTestId('menuitem' + index)}\n        iconclass={item.icon as string}\n        caption={getDisplayLabel(item.label)}\n        hyperlink={item.link}\n        styles={this.styles.menuItem}\n        onTap={() => {\n          this.invokeEventCallback('onSelect', [null, this, item]);\n          this.popOverRef.hide();\n      }}></WmAnchor>\n    );\n  }\n\n  renderWidget(props: WmMenuProps) {\n    const menuItems = this.state.dataItems;\n    return (\n      <WmPopover \n        id={this.getTestId('menu')}\n        styles={this.styles}\n        contentanimation={animationMap[props.animateitems || 'scale']}\n        caption={props.caption}\n        iconclass={props.iconclass}\n        listener={this.listener}\n        popoverheight={this.styles.menu.height as string | number | undefined || null}\n        popoverwidth={this.styles.menu.width as string | number | undefined || null}\n        iconposition=\"right\"\n        type='dropdown'>\n          <View style={this.styles.menu}>\n            {menuItems.map((item, index) => (\n              <View key={item.key}>\n                {this.renderMenuItem(item, index)}\n              </View>\n            ))}\n          </View>\n      </WmPopover>\n    );\n  }\n}\n"],"mappings":"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"}