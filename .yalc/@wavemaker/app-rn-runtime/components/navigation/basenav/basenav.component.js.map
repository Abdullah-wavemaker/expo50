{"version":3,"names":["BaseComponent","BaseComponentState","DEFAULT_CLASS","isArray","BaseNavState","constructor","arguments","_defineProperty","BaseNavComponent","props","defaultClass","length","undefined","defaultProps","defaultState","getValue","item","val","setDataItems","dataset","state","name","dataItems","split","map","s","i","key","label","data","d","itemlabel","icon","itemicon","link","itemlink","badge","itembadge","isactive","childnavigation","itemchildren","updateState","onPropertyChange","$new","$old"],"sources":["basenav.component.ts"],"sourcesContent":["import { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport { BaseNavProps } from './basenav.props';\nimport { DEFAULT_CLASS, BaseNavStyles } from './basenav.styles';\nimport { isArray } from 'lodash-es';\n\nexport interface NavigationDataItem {\n  key: string;\n  label: string;\n  icon?: string;\n  link?: string;\n  badge?: string;\n  isactive?: string;\n  data: any;\n  childnavigation?: any;\n}\n\nexport class BaseNavState <T extends BaseNavProps> extends BaseComponentState<T> {\n  dataItems = [] as NavigationDataItem[];\n}\n\nexport abstract class BaseNavComponent< T extends BaseNavProps, S extends BaseNavState<T>, L extends BaseNavStyles> extends BaseComponent<T, S, L> {\n\n  constructor(props: T, public defaultClass: string = DEFAULT_CLASS, defaultProps?: T, defaultState?: S) {\n    super(props, defaultClass, defaultProps, defaultState);\n  }\n\n  getValue(item: any, val?: string | ((item: any) => string)) {\n    if (typeof val === 'string') {\n      return item[val];\n    } else if (typeof val === 'function') {\n      return val(item);\n    }\n    return null;\n  }\n\n  setDataItems(dataset: any = this.state.props.dataset) {\n    const name = this.props.name;\n    let dataItems = [] as NavigationDataItem[];\n    if (typeof dataset === 'string') {\n      dataItems = dataset.split(',').map((s, i) => {\n        return {\n          key: `${name}_item${i}`,\n          label: s,\n          data: s\n        } as NavigationDataItem;\n      });\n    } else if (dataset) {\n      if (!isArray(dataset)) {\n        dataset = [dataset];\n      }\n      dataItems = (dataset as any[]).map((d, i) => {\n        return {\n          key: `${name}_item${i}`,\n          label: this.getValue(d, this.state.props.itemlabel),\n          icon: this.getValue(d, this.state.props.itemicon),\n          link: this.getValue(d, this.state.props.itemlink),\n          badge: this.getValue(d, this.state.props.itembadge),\n          isactive: this.getValue(d, this.state.props.isactive),\n          data: d,\n          childnavigation: this.state.props.itemchildren ? d[this.state.props.itemchildren] : null\n        } as NavigationDataItem;\n      });\n    }\n    this.updateState({dataItems: dataItems} as S);\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    switch (name) {\n      case 'dataset':\n        this.setDataItems($new);\n        break;\n      case 'itemlabel':\n      case 'itemicon':\n      case 'itemlink':\n      case 'itemchildren':\n        this.setDataItems();\n        break;\n    }\n  }\n}\n"],"mappings":"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"}