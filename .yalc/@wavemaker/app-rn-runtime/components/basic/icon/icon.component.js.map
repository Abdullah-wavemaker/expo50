{"version":3,"names":["React","Animated","Easing","Text","Image","View","FontAwesome","BaseComponent","BaseComponentState","isFullPathUrl","AccessibilityWidgetType","getAccessibilityProps","WmIconProps","DEFAULT_CLASS","WavIcon","StreamlineLightIcon","StreamlineRegularIcon","Tappable","Animatedview","createSkeleton","ICON_SIZES","Map","ICON_ROTATTION","WmIconState","constructor","arguments","_defineProperty","WmIcon","props","Value","getIconDef","iconClass","iconDef","rotate","splits","split","isFontAwesome","find","v","isStreamlineLightIcon","isStreamlineRegularIcon","_splits$find","type","startsWith","substring","_splits$find2","_splits$find3","_splits$find4","isWavIcon","indexOf","animation","size","map","get","spin","stopAnimation","spinValue","setValue","timing","toValue","duration","easing","linear","useNativeDriver","start","componentDidMount","componentWillUnmount","onPropertyChange","name","$new","$old","updateState","getCustomIcon","style","_this$theme$getStyle","customIcon","theme","mergeStyle","getStyle","iconclass","icon","styles","customIconContent","content","createElement","fontFamily","decodeURIComponent","renderSkeleton","skeleton","root","width","skeletonwidth","iconsize","height","skeletonheight","getElementToShow","iconSrc","iconmargin","iconheight","iconwidth","elementToshow","source","uri","testID","getTestId","margin","loadIcon","iconImage","loadAsset","iconImageSrc","renderIcon","iconJsx","_iconSource","iconurl","state","text","color","transform","iconSize","fontSize","show","_this$styles$icon","WMCustomIcon","interpolate","inputRange","outputRange","opacity","ICON","renderWidget","iterationCount","iterationcount","parseInt","undefined","_extends","target","rippleColor","getTestPropsForAction","entryanimation","_background","iconposition","caption","getTestPropsForLabel"],"sources":["icon.component.tsx"],"sourcesContent":["import React from 'react';\nimport { Animated, DimensionValue, Easing, Text, Image, View } from 'react-native';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { BaseComponent, BaseComponentState } from '@wavemaker/app-rn-runtime/core/base.component';\nimport { isFullPathUrl } from '@wavemaker/app-rn-runtime/core/utils'; \nimport { AccessibilityWidgetType, getAccessibilityProps } from '@wavemaker/app-rn-runtime/core/accessibility';\n\nimport WmIconProps from './icon.props';\nimport { DEFAULT_CLASS, WmIconStyles } from './icon.styles';\nimport WavIcon from './wavicon/wavicon.component';\nimport StreamlineLightIcon from './streamline-light-icon/streamline-light-icon.component';\nimport StreamlineRegularIcon from './streamline-regular-icon/streamline-regular-icon.component';\nimport { Tappable } from '@wavemaker/app-rn-runtime/core/tappable.component';\nimport { Animatedview } from '@wavemaker/app-rn-runtime/components/basic/animatedview.component';\nimport WmSkeleton, { createSkeleton } from '../skeleton/skeleton.component';\n\ninterface IconDef {\n  isFontAwesome: boolean;\n  isWavIcon: boolean;\n  isStreamlineLightIcon: boolean;\n  isStreamlineRegularIcon: boolean;\n  type: string;\n  rotate: string;\n  size: number;\n  animation: string;\n}\n\nconst ICON_SIZES = new Map([\n  ['fa-lg', 24],\n  ['fa-2x', 36],\n  ['fa-3x', 48],\n  ['fa-4x', 60],\n  ['fa-5x', 72]\n]);\n\nconst ICON_ROTATTION = new Map([\n  ['fa-rotate-90', '90deg'],\n  ['fa-rotate-180', '180deg'],\n  ['fa-rotate-270', '270deg']\n]);\n\nexport class WmIconState extends BaseComponentState<WmIconProps> {\n  public iconDef = {} as IconDef;\n}\n\nexport default class WmIcon extends BaseComponent<WmIconProps, WmIconState, WmIconStyles> {\n  spinValue = new Animated.Value(0);\n  pulseValue = new Animated.Value(0);\n  public stopAnimation = true; \n  private _iconSource = null as any;\n\n  constructor(props: WmIconProps) {\n    super(props, DEFAULT_CLASS, new WmIconProps());\n  }\n\n  getIconDef(iconClass: string): IconDef {\n    const iconDef = {\n      rotate: '0'\n    } as IconDef;\n    const splits = iconClass.split(' ');\n    iconDef.isFontAwesome = !!splits.find(v => v === 'fa');\n    iconDef.isStreamlineLightIcon = !!splits.find(v => v === 'wm-sl-l');\n    iconDef.isStreamlineRegularIcon = !!splits.find(v => v === 'wm-sl-r');\n    if (iconDef.isFontAwesome) {\n      iconDef.type = splits.find(v => v.startsWith('fa-'))?.substring(3) || '';\n    } else if (iconDef.isStreamlineLightIcon) {\n      iconDef.type = splits.find(v => v.startsWith('sl-'))?.substring(3) || '';\n    } else if (iconDef.isStreamlineRegularIcon) {\n      iconDef.type = splits.find(v => v.startsWith('sl-'))?.substring(3) || '';\n    } else {\n      iconDef.isWavIcon = !iconDef.isFontAwesome && !!splits.find(v => v === 'wi');\n      iconDef.type = (iconDef.isWavIcon && splits.find(v => v.startsWith('wi-'))?.substring(3)) || '';\n    }\n    if (iconClass.indexOf('fa-spin') >= 0) {\n      iconDef.animation = 'spin';\n    } else if (iconClass.indexOf('fa-pulse') >= 0) {\n      iconDef.animation = 'pulse';\n    }\n    iconDef.size = splits.map(v => ICON_SIZES.get(v)).find(v => !!v) || 12;\n    iconDef.rotate = splits.map(v => ICON_ROTATTION.get(v)).find(v => !!v) || '0deg';\n    return iconDef;\n  }\n\n  private spin () {\n    if (this.stopAnimation) {\n      return;\n    }\n    this.spinValue.setValue(0);\n    Animated.timing(\n      this.spinValue,\n      {\n        toValue: 1,\n        duration: 1000,\n        easing: Easing.linear,\n        useNativeDriver: true\n      }\n    ).start(() => this.spin());\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    this.spin();\n  }\n\n  componentWillUnmount(): void {\n      super.componentWillUnmount();\n      this.stopAnimation = true;\n  }\n\n  onPropertyChange(name: string, $new: any, $old: any) {\n    super.onPropertyChange(name, $new, $old);\n    switch(name) {\n      case 'iconclass':\n        $new && this.updateState({iconDef: this.getIconDef($new)} as WmIconState);\n        break;\n    }\n  }\n\n  private getCustomIcon(props: WmIconProps, style: any) {\n    const customIcon = this.theme.mergeStyle({}, this.theme.getStyle(props?.iconclass || '')?.icon || this.styles.icon);\n    const customIconContent = customIcon?.content;\n    if (customIconContent) {\n      delete customIcon.content;\n      return (<Text\n        style={[style, customIcon.fontFamily ? {fontFamily: customIcon.fontFamily}: null]}>\n          {decodeURIComponent(customIconContent)}\n      </Text>);\n    }\n    return null;\n  }\n\n  public renderSkeleton(props: WmIconProps) {\n    return createSkeleton(this.theme, this.styles.skeleton, {\n      ...this.styles.root,\n      width: (this.props.skeletonwidth || this.props.iconsize || this.styles.root.width) as DimensionValue,\n      height: (this.props.skeletonheight || this.props.iconsize || this.styles.root.height) as DimensionValue\n    });\n  }\n\n  getElementToShow(props: WmIconProps, iconSrc: any) {\n\n    const { iconmargin, iconheight, iconwidth } = props;\n    let width, height;\n    let elementToshow, source;\n\n    if (iconwidth) width = iconwidth;\n    else if (iconheight) width = iconheight;\n    else width = 12;\n    if (iconheight) height = iconheight;\n    else if (iconwidth) height = iconwidth;\n    else height = 12;\n\n    if (isFullPathUrl(iconSrc)) {\n      source = {\n        uri: iconSrc\n      };\n    } else {\n      source = iconSrc;\n    }\n    elementToshow = <Image testID={this.getTestId('icon')}\n      style={{\n        margin: iconmargin ?? 0,\n        height: height,\n        width: width\n      }}\n      source={source}/>;\n    return elementToshow;\n  }\n\n  loadIcon(iconImage: string | undefined) {\n    if (!iconImage || !this.loadAsset) {\n      return null;\n    }\n    const iconImageSrc = this.loadAsset(iconImage);\n    if (iconImageSrc && typeof iconImageSrc !== 'function') {\n      return iconImageSrc;\n    }\n    return null;\n  }\n\n  renderIcon(props: WmIconProps) {\n    let iconJsx = null;\n    this._iconSource =  this._iconSource || this.loadIcon(props.iconurl);\n    const iconSrc: any = this._iconSource \n    if (iconSrc) {\n      return this.getElementToShow(props, iconSrc);\n    }\n    const iconDef = this.state.iconDef;\n    if (!iconDef) {\n      return null;\n    }\n    const { root, text, icon } = this.styles;\n    const style = [{ color: root.color || text.color },\n    icon,\n    { transform: [{ rotate: iconDef.rotate }] }];\n\n    const customIcon = this.getCustomIcon(props, style);\n    const iconSize = props.iconsize || this.styles.root.fontSize || this.styles.text.fontSize || iconDef.size;\n    if (props.show && iconDef && iconDef.isFontAwesome) {\n      //@ts-ignore type information is not matching\n      iconJsx = (<FontAwesome name={customIcon ? '' : iconDef.type}\n        style={style}\n        size={iconSize}>\n          {customIcon}\n        </FontAwesome>);\n    } else if (props.show && iconDef) {\n      let WMCustomIcon = WavIcon as unknown;\n      if (iconDef.isStreamlineLightIcon) {\n        WMCustomIcon = StreamlineLightIcon;\n      } else if (iconDef.isStreamlineRegularIcon) {\n        WMCustomIcon = StreamlineRegularIcon;\n      } else if (!iconDef.isWavIcon && !customIcon && !this.styles.icon?.fontFamily) {\n        return null;\n      }\n      //@ts-ignore type information is not matching\n      iconJsx = WMCustomIcon ? (<WMCustomIcon name={customIcon ? '' : iconDef.type}\n        style={style}\n        size={iconSize}>\n        {customIcon}\n      </WMCustomIcon>) : null;\n    }\n    if (iconJsx && iconDef.animation === 'spin') {\n      const rotate = this.spinValue.interpolate({ inputRange: [0, 1], outputRange: ['0deg', '360deg']});\n      const animation = { transform: [{ rotate }] };\n      this.stopAnimation = false;\n      return (<Animated.View style={animation}>{iconJsx}</Animated.View>);\n    } else if (iconJsx && iconDef.animation === 'pulse') {\n      const opacity = this.spinValue.interpolate({ inputRange: [0, 1], outputRange: [0, 1]});\n      const animation = { opacity: opacity };\n      this.stopAnimation = false;\n      return (<Animated.View style={animation}>{iconJsx}</Animated.View>);\n    } else {\n      this.stopAnimation = true;\n    }\n    return (\n      <View\n        {...getAccessibilityProps(AccessibilityWidgetType.ICON, this.props)}\n      >\n        {iconJsx}\n      </View>\n    );\n  }\n\n  renderWidget(props: WmIconProps) {\n    let icon = this.renderIcon(props);\n    let iterationCount: any = props.iterationcount ? (props.iterationcount != 'infinite' ? parseInt(props.iterationcount): 'infinite') : undefined;\n    return (\n      <Tappable target={this} rippleColor = {this.styles.root.rippleColor} {...this.getTestPropsForAction()}>  \n        <Animatedview entryanimation={props.animation} style={this.styles.root} iterationCount={iterationCount}>\n          {this._background}\n          {(props.iconposition === 'left' && icon) || null}\n          {(props.caption && (<Text {...this.getTestPropsForLabel('caption')}style={this.styles.text}>{props.caption}</Text>)) || null}\n          {(props.iconposition === 'right' && icon) || null}\n        </Animatedview>\n      </Tappable>\n    );\n  }\n}\n"],"mappings":"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"}