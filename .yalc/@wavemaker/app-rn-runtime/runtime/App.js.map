{"version":3,"names":["React","axios","Platform","TouchableOpacity","View","StatusBar","KeyboardAvoidingView","ProtoTypes","SafeAreaProvider","SafeAreaInsetsContext","SafeAreaView","DefaultTheme","Provider","PaperProvider","Linking","NativeModulesProxy","WebBrowser","get","last","RENDER_LOGGER","EventNotifier","ThemeProvider","StorageService","ConstantService","injector","formatters","deepCopy","isWebPreviewMode","Utils","ModalProvider","FixedViewContainer","ToastProvider","NavigationServiceProvider","PartialProvider","WmNetworkInfoToaster","ThemeVariables","WmMessage","Animatedview","AppI18nService","Watcher","preparePatch","AppDisplayManagerService","AppModalService","AppToastService","AppPartialService","AppSpinnerService","AppNavigator","SecurityProvider","CameraProvider","CameraService","ScanProvider","ScanService","AppSecurityService","getValidJSON","parseErrors","MaterialCommunityIconsFont","SplashScreen","WmMemo","style","any","MIN_TIME_BETWEEN_REFRESH_CYCLES","DrawerImpl","constructor","onChange","_defineProperty","setContent","content","getContent","setAnimation","animation","getAnimation","SUPPORTED_SERVICES","CONSTANTS","BaseApp","Component","props","_this","this","ROOT","colors","primary","INSTANCE","primaryColor","refresh","preventAutoHideAsync","setTimeout","hideAsync","appConfig","app","drawer","setDefaultOptions","spinner","refreshAfterWait","baseUrl","url","wait","bindServiceInterceptors","complete","arguments","length","undefined","reload","debug","_this$commonPartial","_this$appConfig$curre","forceUpdate","commonPartial","currentPage","watcher","check","subscribe","event","fn","eventNotifier","notify","_len","args","Array","_key","activePage","Widgets","_this$commonPartial2","goToPage","pageName","params","_this$appConfig$curre2","goBack","_this$appConfig$curre3","openUrl","_this$appConfig$curre4","onBeforeServiceCall","config","isSkeletonEnabled","loader","onServiceSuccess","data","response","onServiceError","errorMsg","error","invokeNativeApi","key","EmbedCommModule","OS","sendToNative","Promise","reject","onPageReady","activePageName","activePageScope","setTimezone","timezone","openBrowser","window","open","startsWith","target","openBrowserAsync","openURL","resolve","axiosInterceptorIds","interceptors","request","use","headers","console","log","_errorDetails","_errorDetails2","_error$response","_error$response2","_error$response3","_error$response4","errorDetails","errMsg","errors","message","includes","status","_this$appConfig$curre5","_this$appConfig$curre6","eval","failOnError","call","e","triggerStartUpVariables","all","startUpVariables","map","s","Variables","invoke","catch","componentDidMount","show","then","onAppVariablesReady","isStarted","startUpActions","a","Actions","componentWillUnmount","id","eject","cleanup","forEach","getProviders","createElement","value","renderToasters","toastsOpened","render","watch","refreshCount","Fragment","o","i","theme","position","width","bottom","elevation","elevationIndex","zIndex","styles","onPress","onClick","text","name","type","caption","hideclose","renderDialogs","_last","modalsOpened","animatedRefs","modalOptions","onStartShouldSetResponder","onResponderEnd","isModal","hideModal","appModal","centered","centeredModal","modalStyle","entryanimation","ref","animatedRef","appModalContent","contentStyle","evt","stopPropagation","renderDisplayManager","displayOptions","displayViewContainer","renderIconsViewSupportForWeb","getSelectedLocale","selectedLocale","getDependency","serviceName","service","renderApp","_this2","autoUpdateVariables","_this$Variables$value","invokeOnParamChange","paperTheme","Consumer","_this2$props","_this2$appConfig$draw","_this2$appConfig$draw2","insets","top","left","right","flex","behavior","container","landingPage","landingPageParams","hideDrawer","drawerContent","drawerAnimation","appLocale","alignItems","flexDirection","justifyContent","backgroundColor","height"],"sources":["App.tsx"],"sourcesContent":["import React, { ReactNode }  from 'react';\nimport axios, { AxiosError, InternalAxiosRequestConfig, AxiosResponse } from 'axios';\nimport { Platform, TouchableOpacity, View, ViewStyle, StatusBar, KeyboardAvoidingView } from 'react-native';\nimport ProtoTypes from 'prop-types';\nimport { SafeAreaProvider, SafeAreaInsetsContext, SafeAreaView } from 'react-native-safe-area-context';\nimport { DefaultTheme, Provider as PaperProvider } from 'react-native-paper';\nimport { Linking } from 'react-native';\nimport { NativeModulesProxy } from 'expo-modules-core';\nimport * as WebBrowser from 'expo-web-browser';\nimport { get, last } from 'lodash';\nimport { RENDER_LOGGER } from '@wavemaker/app-rn-runtime/core/logger';\nimport EventNotifier from '@wavemaker/app-rn-runtime/core/event-notifier';\nimport { ThemeProvider } from '@wavemaker/app-rn-runtime/styles/theme';\nimport AppConfig, { Drawer } from '@wavemaker/app-rn-runtime/core/AppConfig';\nimport StorageService from '@wavemaker/app-rn-runtime/core/storage.service';\nimport ConstantService from '@wavemaker/app-rn-runtime/core/constant.service';\nimport NetworkService from '@wavemaker/app-rn-runtime/core/network.service';\nimport injector from '@wavemaker/app-rn-runtime/core/injector';\nimport formatters from '@wavemaker/app-rn-runtime/core/formatters';\nimport { deepCopy, isWebPreviewMode } from '@wavemaker/app-rn-runtime/core/utils';\nimport * as Utils  from '@wavemaker/app-rn-runtime/core/utils';\nimport { ModalProvider } from '@wavemaker/app-rn-runtime/core/modal.service';\nimport { FixedViewContainer } from '@wavemaker/app-rn-runtime/core/fixed-view.component';\nimport { ToastProvider } from '@wavemaker/app-rn-runtime/core/toast.service';\nimport NavigationService, { NavigationServiceProvider } from '@wavemaker/app-rn-runtime/core/navigation.service';\nimport { PartialProvider } from '@wavemaker/app-rn-runtime/core/partial.service';\nimport WmNetworkInfoToaster from '@wavemaker/app-rn-runtime/components/advanced/network-info-toaster/network-info-toaster.component';\nimport ThemeVariables from '@wavemaker/app-rn-runtime/styles/theme.variables';\nimport WmMessage from '@wavemaker/app-rn-runtime/components/basic/message/message.component';\nimport { Animatedview } from '@wavemaker/app-rn-runtime/components/basic/animatedview.component';\nimport AppI18nService from '@wavemaker/app-rn-runtime/runtime/services/app-i18n.service';\n\nimport { Watcher } from './watcher';\nimport { preparePatch } from './lib-patch';\nimport AppDisplayManagerService from './services/app-display-manager.service';\nimport AppModalService from './services/app-modal.service';\nimport AppToastService from './services/app-toast.service';\nimport AppPartialService from './services/partial.service';\nimport AppSpinnerService from './services/app-spinner.service';\nimport { AppNavigator } from './App.navigator';\nimport { SecurityProvider } from '../core/security.service';\nimport { CameraProvider } from '../core/device/camera-service';\nimport  CameraService from './services/device/camera-service';\nimport { ScanProvider } from '../core/device/scan-service';\nimport ScanService from './services/device/scan-service';\nimport AppSecurityService from './services/app-security.service';\nimport {getValidJSON, parseErrors} from '@wavemaker/app-rn-runtime/variables/utils/variable.utils';\nimport MaterialCommunityIconsFont from '@expo/vector-icons/build/vendor/react-native-vector-icons/Fonts/MaterialCommunityIcons.ttf';\n\nimport * as SplashScreen from 'expo-splash-screen';\nimport BasePartial from './base-partial.component';\nimport BasePage from './base-page.component';\nimport { WmMemo } from './memo.component';\n\ndeclare const window: any;\n\n//some old react libraries need this\n((View as any)['propTypes'] = { style: ProtoTypes.any})\n\nconst MIN_TIME_BETWEEN_REFRESH_CYCLES = 200;\n\nclass DrawerImpl implements Drawer {\n  content: ReactNode;\n  animation: string = 'slide-in';\n\n  constructor(private onChange: () => void) {\n\n  }\n\n  setContent(content: ReactNode) {\n    this.content = content;\n    this.onChange();\n  }\n\n  getContent() {\n    return this.content;\n  }\n\n  setAnimation(animation: string) {\n    this.animation = animation;\n    this.onChange();\n  }\n\n  getAnimation() {\n    return this.animation;\n  }\n}\nconst SUPPORTED_SERVICES = {\n  Utils: Utils,\n  CONSTANTS: ConstantService,\n  StorageService: StorageService,\n  AppDisplayManagerService: AppDisplayManagerService\n};\n\nexport default abstract class BaseApp extends React.Component implements NavigationService {\n\n  Actions: any = {};\n  Variables: any = {};\n  onAppVariablesReady = () => {};\n  isStarted = false;\n  appConfig = injector.get<AppConfig>('APP_CONFIG');\n  private eventNotifier = new EventNotifier();\n  public baseUrl = '';\n  public targetPlatform = 'NATIVE_MOBILE';\n  public cleanup = [] as Function[];\n  public commonPartial: BasePartial = null as any;\n  private startUpVariables: string[] = [];\n  private startUpActions: string[] = [];\n  private autoUpdateVariables: string[] = [];\n  private axiosInterceptorIds: number[] = [];\n  public formatters = formatters;\n  public serviceDefinitions = {} as any;\n  private animatedRef: any;\n  public modalsOpened: number = 0;\n  public toastsOpened: number = 0;\n  public watcher: Watcher = Watcher.ROOT;\n  public paperTheme = {\n    ...DefaultTheme,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: ThemeVariables.INSTANCE.primaryColor\n    }\n  };\n  public lib = preparePatch(() => {\n    this.refresh();\n  });\n\n  constructor(props: any) {\n    super(props);\n    SplashScreen.preventAutoHideAsync();\n    setTimeout(() => SplashScreen.hideAsync(), 10000);\n    this.appConfig.app = this;\n    this.appConfig.drawer = new DrawerImpl(() => this.refresh());\n    AppSpinnerService.setDefaultOptions({\n      spinner: this.appConfig.spinner\n    });\n    let refreshAfterWait = false;\n    this.baseUrl = this.appConfig.url;\n    let wait = 0;\n    this.bindServiceInterceptors();\n    this.appConfig.refresh = (complete = false) => {\n      if (complete) {\n        this.reload();\n        return;\n      }\n      if (!wait) {\n        RENDER_LOGGER.debug('refreshing the app...');\n        wait = MIN_TIME_BETWEEN_REFRESH_CYCLES;\n        refreshAfterWait = false;\n        setTimeout(() => {\n          this.forceUpdate();\n          this.commonPartial?.forceUpdate();\n          this.appConfig.currentPage?.forceUpdate();\n          this.watcher.check();\n        });\n        setTimeout(() => {\n          wait = 0;\n          refreshAfterWait && this.appConfig.refresh();\n        }, wait);\n      } else {\n        RENDER_LOGGER.debug('will refresh the app in the next cycle.');\n        refreshAfterWait = true;\n      }\n    }\n  }\n\n  subscribe(event: string, fn: Function) {\n    return this.eventNotifier.subscribe(event, fn);\n  }\n\n  notify(event: string, ...args: any) {\n    return this.eventNotifier.notify(event, args);\n  }\n\n  get activePage() {\n    return this.appConfig.currentPage;\n  }\n\n  get Widgets() {\n    return this.commonPartial?.Widgets;\n  }\n\n  goToPage(pageName: string, params: any)  {\n    return this.appConfig.currentPage?.goToPage(pageName, params);\n  }\n\n  goBack(pageName: string, params: any) {\n    return this.appConfig.currentPage?.goBack(pageName, params);\n  }\n\n  openUrl(url: string, params?: any)  {\n    return this.appConfig.currentPage?.openUrl(url, params);\n  }\n\n  onBeforeServiceCall(config: InternalAxiosRequestConfig) {\n    //DO NOT WRITE CODE HERE:\n    //This is a placeholder for the WaveMaker developer.\n    return config;\n  }\n\n  isSkeletonEnabled() {\n    return this.appConfig.spinner.loader == \"skeleton\";\n  }\n\n  onServiceSuccess(data: any, response: AxiosResponse) {\n    //DO NOT WRITE CODE HERE:\n    //This is a placeholder for the WaveMaker developer.\n  }\n\n  onServiceError(errorMsg: any, error: AxiosError<any>) {\n    //DO NOT WRITE CODE HERE:\n    //This is a placeholder for the WaveMaker developer.\n  }\n\n  invokeNativeApi(key: string, data: Object) {\n    if (NativeModulesProxy.EmbedCommModule\n        && (Platform.OS === 'android' || Platform.OS === 'ios')) {\n        return NativeModulesProxy.EmbedCommModule.sendToNative(key, data || {});\n    } else {\n        return Promise.reject('Not able to invoke Native API in this platform.');\n    }\n  }\n\n  onPageReady(activePageName: string, activePageScope: BasePage) {\n\n  }\n\n  setTimezone(timezone: any){\n    AppI18nService.setTimezone(timezone);\n  }\n  \n  get spinner() {\n    return AppSpinnerService;\n  }\n\n  openBrowser(url: string, params = {} as any) {\n    if (url) {\n      if (isWebPreviewMode()) {\n        window.open(url, '_blank');\n      } else if (url.startsWith('http') && params.target === '_blank') {\n        WebBrowser.openBrowserAsync(url);\n      } else {\n        return Linking.openURL(url);\n      }\n    }\n    return Promise.resolve();\n  }\n\n  // To support old api\n  reload() {}\n\n  bindServiceInterceptors() {\n    this.axiosInterceptorIds = [\n      axios.interceptors.request.use((config: InternalAxiosRequestConfig) => {\n        const url = config.url as string;\n        if (!(url.startsWith('http://') || url.startsWith(\"https://\"))) {\n          config.url = this.appConfig.url + '/' + url;\n        }\n        config.headers = config.headers || {};\n        config.headers['X-Requested-With'] = 'XMLHttpRequest';\n        console.log('onBeforeService call invoked on ' + config.url);\n        return this.onBeforeServiceCall(config);\n      }),\n      axios.interceptors.response.use(\n        (response: AxiosResponse) => {\n          this.onServiceSuccess(response.data, response);\n          return response;\n        },(error: AxiosError<any>) => {\n          let errorDetails: any = error.response, errMsg;\n          errorDetails = getValidJSON(errorDetails?.data) || errorDetails?.data;\n          if (errorDetails && errorDetails.errors) {\n              errMsg = parseErrors(errorDetails.errors) || \"Service Call Failed\";\n          } else {\n              errMsg = error.message || \"Service Call Failed\";\n          }\n          error.message = errMsg;\n          console.error(`Error ${errMsg} recieved from ${error.response?.config?.url}`);\n          this.onServiceError(error.message, error);\n          if (error.response?.config.url?.startsWith(this.appConfig.url) && !error.response?.config.url?.includes('/services/') && error.response?.status === 401) {\n            this.appConfig.currentPage?.pageName !== 'Login' && this.appConfig.currentPage?.goToPage('Login');\n          }\n          return Promise.reject(error)\n        })\n    ];\n  }\n\n  eval(fn: Function, failOnError = false) {\n    try {\n      return fn.call(this);\n    } catch (e) {\n      if (failOnError) {\n        throw e;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  triggerStartUpVariables() {\n    return Promise.all(this.startUpVariables.map(s => this.Variables[s] && this.Variables[s].invoke()))\n    .catch(() => {});\n  }\n\n  componentDidMount() {\n    AppSpinnerService.show({\n      spinner: this.appConfig.spinner\n    });\n    this.triggerStartUpVariables()\n    .then(() => {\n      this.onAppVariablesReady();\n      this.isStarted = true;\n      this.forceUpdate();\n    }, () => {}).then(() => {\n      SplashScreen.hideAsync().then(() => {});\n    });\n    this.startUpActions.map(a => this.Actions[a] && this.Actions[a].invoke());\n  }\n\n  componentWillUnmount(): void {\n    this.axiosInterceptorIds.map(id => {\n      axios.interceptors.request.eject(id);\n    });\n    this.cleanup.forEach(fn => fn());\n  }\n\n  refresh() {\n    this.appConfig.refresh();\n  }\n\n  getProviders(content: React.ReactNode) {\n    return (\n      <NavigationServiceProvider value={this}>\n        <ToastProvider value={AppToastService}>\n          <PartialProvider value={AppPartialService}>\n            <SecurityProvider value={AppSecurityService}>\n              <CameraProvider value={CameraService}>\n                <ScanProvider value={ScanService}>\n                  <ModalProvider value={AppModalService}>\n                    { content }\n                  </ModalProvider>\n                </ScanProvider>\n              </CameraProvider>\n            </SecurityProvider>\n          </PartialProvider>\n        </ToastProvider>\n      </NavigationServiceProvider>\n    );\n  }\n\n  renderToasters() {\n    this.toastsOpened = AppToastService.toastsOpened.length;\n    return <WmMemo watcher={this.watcher} render={(watch) => {\n      watch(() => AppToastService.refreshCount);\n      return (\n        <>\n          {AppToastService.toastsOpened.map((o, i) =>{\n            return this.getProviders((\n              <ThemeProvider value={this.appConfig.theme}>\n                <View key={i} style={[{\n                  position: 'absolute',\n                  width: '100%',\n                  bottom: 0,\n                  elevation: o.elevationIndex,\n                  zIndex: o.elevationIndex\n                }, o.styles]}>\n                  <TouchableOpacity onPress={() => o.onClick && o.onClick()}>\n                    {o.content}\n                    {o.text && <WmMessage name={\"message\"+ i} type={o.type} caption={o.text} hideclose={true}></WmMessage>}\n                  </TouchableOpacity>\n                </View>\n              </ThemeProvider>\n              )\n          )})}\n        </>);\n    }}/>;\n  }\n\n  renderDialogs(): ReactNode {\n    return <WmMemo watcher={this.watcher} render={(watch) => {\n      watch(() => last(AppModalService.modalsOpened)?.content);\n      this.modalsOpened = AppModalService.modalsOpened.length;\n          AppModalService.animatedRefs.length = 0;\n      return(\n        <>\n        {AppModalService.modalOptions.content &&\n          AppModalService.modalsOpened.map((o, i) => {\n            return (\n              <View key={(o.name || '') + i}\n                onStartShouldSetResponder={() => true}\n                onResponderEnd={() => o.isModal && AppModalService.hideModal(o)}\n                style={deepCopy(styles.appModal,\n                  o.centered ? styles.centeredModal: null,\n                  o.modalStyle,\n                  { elevation: o.elevationIndex,\n                    zIndex: o.elevationIndex })}>\n                    <Animatedview entryanimation={o.animation || 'fadeIn'}\n                      ref={ref => {\n                        this.animatedRef = ref;\n                        AppModalService.animatedRefs[i] = ref;\n                      }}\n                      style={[styles.appModalContent, o.contentStyle]}>\n                      <View\n                        onStartShouldSetResponder={evt => true}\n                        onResponderEnd={(e) => e.stopPropagation()}\n                        style={{width: '100%', 'alignItems': 'center'}}>\n                        {this.getProviders(o.content)}\n                      </View>\n                    </Animatedview>\n              </View>\n            )}\n          )\n        }\n      </>);\n    }}/>;\n  }\n\n  renderDisplayManager(): ReactNode {\n    return <WmMemo watcher={this.watcher} render={(watch) => {\n      watch(() => AppDisplayManagerService.displayOptions.content);\n      return AppDisplayManagerService.displayOptions.content\n        ? (\n          <ThemeProvider value={this.appConfig.theme}>\n            <View style={[styles.displayViewContainer, {\n              elevation: this.toastsOpened + this.modalsOpened + 1,\n              zIndex: this.toastsOpened + this.modalsOpened + 1\n            }]}>\n              {AppDisplayManagerService.displayOptions.content}\n            </View>\n          </ThemeProvider>) : null;\n    }}/>\n  }\n\n  renderIconsViewSupportForWeb() {\n    try {\n      return (<style type=\"text/css\">{`\n        @font-face {\n          font-family: 'MaterialCommunityIcons';\n          src: url(${MaterialCommunityIconsFont}) format('truetype');\n        }\n      `}</style>);\n    } catch (e) {\n      console.log('require react-native-vector-icons could not be loaded.');\n    }\n    return null;\n  }\n\n  getSelectedLocale() {\n    return this.appConfig.selectedLocale;\n  }\n\n  getDependency(serviceName: string): any {\n    const service = get(SUPPORTED_SERVICES, serviceName);\n    if (service) {\n      return service;\n    }\n  }\n\n  renderApp(commonPartial:React.ReactNode) {\n    this.autoUpdateVariables.forEach(value => this.Variables[value]?.invokeOnParamChange());\n    return (\n      <SafeAreaProvider>\n        <PaperProvider theme={this.paperTheme}>\n          <React.Fragment>\n            {Platform.OS === 'web' ? this.renderIconsViewSupportForWeb() : null}\n          <SafeAreaInsetsContext.Consumer>\n            {(insets = {top: 0, bottom: 0, left: 0, right: 0}) =>\n              (this.getProviders(\n                (<SafeAreaView  style={{flex: 1}}>\n                  <StatusBar />\n                  <FixedViewContainer>\n                  <ThemeProvider value={this.appConfig.theme}>\n                  <KeyboardAvoidingView behavior={Platform.OS === \"ios\" ? \"padding\" : undefined}\n                  style={{ flex: 1 }}>\n                    <View style={styles.container}>\n                      <AppNavigator\n                        app={this}\n                        landingPage={(this.props as any).pageName}\n                        landingPageParams={(this.props as any)?.pageName && this.props}\n                        hideDrawer={this.appConfig.drawer?.getContent() === null}\n                        drawerContent={() => this.appConfig.drawer? this.getProviders(this.appConfig.drawer.getContent()) : null}\n                        drawerAnimation={this.appConfig.drawer?.getAnimation()}></AppNavigator>\n                        {commonPartial}\n                        {this.renderToasters()}\n                        {this.renderDialogs()}\n                        {this.renderDisplayManager()}\n                    </View>\n                    </KeyboardAvoidingView>\n                    {this.appConfig.url ? \n                      (<WmNetworkInfoToaster  appLocale={this.appConfig.appLocale}></WmNetworkInfoToaster>)\n                      : null}\n                  </ThemeProvider>\n                  </FixedViewContainer>\n                </SafeAreaView>))\n              )\n            }\n          </SafeAreaInsetsContext.Consumer>\n          </React.Fragment>\n        </PaperProvider>\n      </SafeAreaProvider>\n    );\n  }\n}\n\nconst styles = {\n  container: {\n    flex: 1\n  },\n  appModal: {\n    position: 'absolute',\n    width: '100%'\n  },\n  appModalContent : {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  centeredModal: {\n    flex: 1,\n    position: 'absolute',\n    top: 0,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n    height: '100%'\n  },\n  displayViewContainer: {\n    position: 'absolute',\n    justifyContent: 'center',\n    width: '100%',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom:0\n  } as ViewStyle\n};\n"],"mappings":"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"}