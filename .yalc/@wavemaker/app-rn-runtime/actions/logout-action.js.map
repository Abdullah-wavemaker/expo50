{"version":3,"names":["BaseAction","VariableEvents","LogoutAction","constructor","config","invoke","options","successcb","errorcb","notify","BEFORE_INVOKE","securityService","appLogout","baseURL","then","data","AFTER_INVOKE","onSuccess","catch","error","onError"],"sources":["logout-action.ts"],"sourcesContent":["import { ActionConfig, BaseAction } from \"./base-action\";\nimport { SecurityService } from \"@wavemaker/app-rn-runtime/core/security.service\";\nimport { VariableEvents } from '../variables/base-variable';\nexport interface LogoutActionConfig extends ActionConfig {\n    securityService: () => SecurityService;\n    baseURL: String;\n}\nexport class LogoutAction extends BaseAction<LogoutActionConfig> {\n    constructor(config: LogoutActionConfig) {\n        super(config);\n    }\n\n    invoke(options: any, successcb?: Function, errorcb?: Function) {\n        this.notify(VariableEvents.BEFORE_INVOKE, [this]);\n        return this.config.securityService().appLogout({baseURL: this.config.baseURL})\n        .then((data: any) => {\n            this.notify(VariableEvents.AFTER_INVOKE, [this, data]);\n            this.config.onSuccess && this.config.onSuccess(this, data);\n            successcb && successcb(data);     \n        })\n        .catch((error: any) => {\n            this.config.onError && this.config.onError(this, error);\n            errorcb && errorcb(error);\n            this.notify(VariableEvents.AFTER_INVOKE, [this, error]);\n        });\n    }\n}"],"mappings":"AAAA,SAAuBA,UAAU,QAAQ,eAAe;AAExD,SAASC,cAAc,QAAQ,4BAA4B;AAK3D,OAAO,MAAMC,YAAY,SAASF,UAAU,CAAqB;EAC7DG,WAAWA,CAACC,MAA0B,EAAE;IACpC,KAAK,CAACA,MAAM,CAAC;EACjB;EAEAC,MAAMA,CAACC,OAAY,EAAEC,SAAoB,EAAEC,OAAkB,EAAE;IAC3D,IAAI,CAACC,MAAM,CAACR,cAAc,CAACS,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;IACjD,OAAO,IAAI,CAACN,MAAM,CAACO,eAAe,CAAC,CAAC,CAACC,SAAS,CAAC;MAACC,OAAO,EAAE,IAAI,CAACT,MAAM,CAACS;IAAO,CAAC,CAAC,CAC7EC,IAAI,CAAEC,IAAS,IAAK;MACjB,IAAI,CAACN,MAAM,CAACR,cAAc,CAACe,YAAY,EAAE,CAAC,IAAI,EAAED,IAAI,CAAC,CAAC;MACtD,IAAI,CAACX,MAAM,CAACa,SAAS,IAAI,IAAI,CAACb,MAAM,CAACa,SAAS,CAAC,IAAI,EAAEF,IAAI,CAAC;MAC1DR,SAAS,IAAIA,SAAS,CAACQ,IAAI,CAAC;IAChC,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAU,IAAK;MACnB,IAAI,CAACf,MAAM,CAACgB,OAAO,IAAI,IAAI,CAAChB,MAAM,CAACgB,OAAO,CAAC,IAAI,EAAED,KAAK,CAAC;MACvDX,OAAO,IAAIA,OAAO,CAACW,KAAK,CAAC;MACzB,IAAI,CAACV,MAAM,CAACR,cAAc,CAACe,YAAY,EAAE,CAAC,IAAI,EAAEG,KAAK,CAAC,CAAC;IAC3D,CAAC,CAAC;EACN;AACJ"}